{"version":3,"sources":["scripts/app.js"],"names":["angular","module","i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","config","$logProvider","$translateProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","useLoader","urlTemplate","preferredLanguage","useSanitizeValueStrategy","configFacebook","$facebookProvider","AppConfig","setAppId","facebook","setPermissions","runFacebook","LangVar","navigator","language","userLanguage","userLangVar","substring","toUpperCase","d","id","js","fjs","getElementById","$inject","run","constant","malarkey","moment","app","name","url","image","routes","home","login","color","parse","appId","server","locales","translation","code","preferredLocale","routerConfig","$stateProvider","$urlRouterProvider","otherwise","runParse","$rootScope","Parse","serverURL","initialize","currentUser","User","current","$mdThemingProvider","definePalette","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastDefaultColor","contrastDarkColors","state","abstract","template","resolve","admin","$q","defer","user","attributes","roleName","reject","promise","templateUrl","controller","directive","link","scope","element","attrs","$observe","newVal","undefined","img","Image","actualSrc","bind","attr","compareToDirective","restrict","targetModel","require","ctrl","compare","e1","val","e2","$watch","newValue","$setValidity","deleteItemDirective","$mdDialog","Toast","deleteItemLink","elem","event","confirm","title","content","ok","cancel","targetEvent","show","then","Model","destroy","item","success","simple","onDelete","error","message","model","emailValidatorDirective","emailValidatorLink","ngModel","$asyncValidators","email","modelValue","viewValue","console","log","validateEmail","facebookLoginDirective","$state","$translate","Auth","Facebook","facebookLoginLink","facebookLogin","loading","getCurrentUser","fbAuthData","status","fbData","me","data","findByEmail","signInViaFacebook","get","deferred","instant","updateWithFacebookData","getLoggedUser","go","facebookStatus","resp","userFacebook","mWidgetDirective","mWidgetLink","value","icon","ngModelCtrl","fromUser","text","transformedInput","replace","$setViewValue","$render","$parsers","uploadImageDirective","uploadImageLink","fileInput","click","on","evt","tempImage","currentTarget","files","reader","FileReader","onload","target","result","readAsDataURL","usernameValidatorDirective","usernameValidatorLink","username","validateUsername","views","main","toolbar@app","sidenav@app","$location","path","controllerAs","","installed","Install","profile","$stateParams","findUserByUsername","factory","setSessionToken","sessionToken","mSessionToken","ensureLoggedIn","become","recoverPassword","requestPasswordReset","resetPassword","logIn","obj","password","logOut","FacebookFactory","$facebook","getLoginStatus","FacebookUtils","logout","api","fields","response","invite","ui","method","friends","getTime","access_token","expiration_date","set","Boolean","save","service","ParseCloud","ParseObject","Object","extend","getStatus","this","isApproved","update","feed","params","all","query","Query","filter","contains","order","indexOf","ascending","descending","date","start","startOf","end","endOf","greaterThanOrEqualTo","toDate","lessThanOrEqualTo","doesNotExist","equalTo","include","limit","skip","page","find","count","defineProperty","prototype","GeoPoint","latitude","longitude","GalleryFactory","create","objPlace","expiresAt","InstallFactory","ParseCloudFactory","action","Cloud","upload","file","ext","filename","File","ToastFactory","$mdToast","textContent","dialog","ev","alert","parent","body","clickOutsideToClose","ariaLabel","UserFactory","signIn","signUp","gender","acl","ACL","setPublicReadAccess","setPublicWriteAccess","setACL","authData","expiration","setSeconds","getSeconds","authResponse","expiresIn","toISOString","facebookAuthData","userID","accessToken","split","fetch","userFetched","getPublicData","first","userData","Promise","setPhoto","parseFile","photo","follow","otherUser","input","findUsername","delete","AdminActivityController","$scope","GalleryActivity","showSimpleToast","hideDelay","loadAll","items","map","loadCount","total","rowOptions","openMenu","$mdOpenMenu","onQueryChange","onCreateGalleryActivity","locals","answer","onPaginationChange","isDate","updateItem","place","objGalleryActivity","copy","destroyItem","aproveItem","unset","Comment","comments","loadComments","showToast","onUpdateIsInappropriate","comment","objComment","isInappropriate","AdminController","$mdSidenav","toggle","AdminFeedbackController","GalleryFeedback","galleries","category","places","onCreateGalleryFeedback","onUpdateGalleryFeedback","objGalleryFeedback","onDestroyGalleryFeedback","onUpdateIsApproved","AdminGalleryController","Gallery","init","onCreateGallery","onUpdateGallery","objGallery","AdminHomeController","vm","dashboard","GallerySetting","loadGallerySettings","onCreateGallerySetting","gallery","onUpdateExpiresAt","onUpdateGallerySetting","objGallerySetting","onDestroyGallerySetting","formData","isDayInvalid","days","parseInt","add","isSavingExpiresAt","hide","AdminSidenavController","menus","AdminUserController","users","loggedUser","loadUsers","onSearch","onSaveUser","onUpdateUser","objUser","onDeleteUser","getUsername","DialogUserController","ParseFile","imageFilename","uploadImage","type","match","$error","isUploading","savedFile","onEventSaveUser","isValidForm","length","isSavingUser","onEventUpdateUser","AminGalleryActivityModalController","NgMap","GeoCoder","marker","isCreating","isImageOneUploading","isImageTwoUploading","isImageThreeUploading","isImageFourUploading","imageOneFilename","location","onAddressChanged","geocode","address","geometry","google","maps","LatLng","lat","lng","setCenter","setZoom","setPosition","getMap","objMap","markers","trigger","galleryLocation","onMarkerDragEnd","latLng","onInputLocationChanged","uploadImageOne","invalidFile","$errorParam","onSaveGallery","isFormValid","isSavingGallery","AdminGalleryModalController","ActivityController","showLoading","isLoadingViewShown","isGalleriesViewShown","isErrorViewShown","isEmptyViewShown","showGalleries","showErrorView","showEmptyView","ensureMoreData","isMoreData","setGalleries","setCurrentPage","loadFeed","$broadcast","onLoadMore","moreDataCanBeLoaded","showLoadingView","onReload","AuthLayoutController","slideIndex","slideChanged","index","slides","description","EditProfileSidenavController","goLink","InstallController","form","passwordConfirmation","onSubmit","rForm","invalid","LoginController","onLogin","$invalid","MainController","ProfileController","SearchController","SidenavController","ToolbarController","isAdmin","homeLink","UserLogoutController","UserRegisterController","genders","userForm","UserResetPasswordCtrl","isLoading","showDialog","onReset","$event","FeedController","$templateCache","put"],"mappings":"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","file":"scripts/app-a1cb450ee3.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular.module('photogram', [\n        'angulartics',\n        'angulartics.google.analytics',\n        'ngAnimate',\n        'ngCookies',\n        'ngSanitize',\n        'ngMessages',\n        'ngAria',\n        'ui.router',\n        'ngMaterial',\n        'toastr',\n        'md.data.table',\n        'ngFacebook',\n        'ngFileUpload',\n        'ngMap',\n        'angularMoment',\n        'mdFormValidator',\n        'validatorEquals',\n        'validatorAsync',\n        'pascalprecht.translate', // angular-translate\n        'tmh.dynamicLocale', // angular-dynamic-locale\n        'ionic',\n        'public',\n        'admin',\n    ]);\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin', [\n        'photogram'\n    ]);\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public', [\n        'photogram'\n    ]);\n\n})();\n(function () {\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n    ga('create', 'UA-53950213-6', 'auto');\n})();\n(function () {\n    'use strict';\n\n    angular.module('photogram')\n           .config(config)\n           .config(configFacebook)\n           .run(runFacebook);\n\n    /** @ngInject */\n    function config($logProvider, $translateProvider, toastrConfig) {\n        // Enable log\n        $logProvider.debugEnabled(true);\n\n        // Set options third-party lib\n        toastrConfig.allowHtml         = true;\n        toastrConfig.timeOut           = 3000;\n        toastrConfig.positionClass     = 'toast-top-right';\n        toastrConfig.preventDuplicates = true;\n        toastrConfig.progressBar       = true;\n\n\n        // Enable debug logging\n        $logProvider.debugEnabled(true);\n        //\n        //// uiGmapgoogle-maps configuration\n        //uiGmapGoogleMapApiProvider.configure({\n        //  //    key: 'your api key',\n        //  v: '3.exp',\n        //  libraries: 'weather,geometry,visualization'\n        //});\n\n        // angular-translate configuration\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: '{part}/i18n/{lang}.json'\n        });\n        $translateProvider.preferredLanguage('en');\n        $translateProvider.useSanitizeValueStrategy('sanitize');\n    }\n\n\n    // Facebook\n    function configFacebook($facebookProvider, AppConfig) {\n        $facebookProvider.setAppId(AppConfig.facebook);\n        $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n    }\n\n    function runFacebook() {\n        var LangVar     = window.navigator.language || window.navigator.userLanguage;\n        var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n\n        // Load the SDK asynchronously\n        (function (d, s, id) {\n            var js, fjs = d.getElementsByTagName(s)[0];\n            if (d.getElementById(id)) return;\n            js     = d.createElement(s);\n            js.id  = id;\n            js.src = 'http://connect.facebook.net/' + userLangVar + '/sdk.js';\n            fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'facebook-jssdk'));\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('photogram')\n        .constant('malarkey', malarkey)\n        .constant('moment', moment)\n        .constant('AppConfig', {\n            app            : {\n                name : 'Photogram',\n                url  : 'http://photogramapp.com',\n                image: 'http://photogramapp.com/social-share.jpg',\n            },\n            routes         : {\n                home : 'photogram.home',\n                login: 'user.intro'\n            },\n            color          : '#00796B',\n            facebook       : '1024016557617380',\n            parse          : {\n                appId : 'myAppId',\n                server: 'http://localhost:1337/parse/'\n                //server: 'https://photogramapp.com/parse/'\n                //server: 'https://photogram2-server.herokuapp.com/parse/'\n            },\n            locales        : [\n                {\n                    translation: 'LANG.PORTUGUES',\n                    code       : 'pt'\n                },\n                {\n                    translation: 'LANG.ENGLISH',\n                    code       : 'en'\n                },\n                {\n                    translation: 'LANG.TURKISH',\n                    code       : 'tr'\n                },\n                {\n                    translation: 'LANG.PERSIAN',\n                    code       : 'fa'\n                },\n                {\n                    translation: 'LANG.GERMAN',\n                    code       : 'de'\n                }\n            ],\n            preferredLocale: 'en',\n        })\n    ;\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').config(routerConfig);\n\n    /** @ngInject */\n    function routerConfig($stateProvider, $urlRouterProvider) {\n\n        // $locationProvider.html5Mode(true);\n        $urlRouterProvider.otherwise('/');\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').run(runParse)\n\n    function runParse(AppConfig, $rootScope) {\n\n        if (Parse.serverURL === '' || Parse.serverURL === 'https://api.parse.com/1') {\n            Parse.initialize(AppConfig.parse.appId);\n            Parse.serverURL = AppConfig.parse.server;\n        }\n        $rootScope.currentUser = Parse.User.current();\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('photogram')\n    .config(function ($mdThemingProvider) {\n      $mdThemingProvider.definePalette('Photogram', {\n        '50': '#858585',\n        '100': '#5e5e5e',\n        '200': '#424242',\n        '300': '#1f1f1f',\n        '400': '#0f0f0f',\n        '500': '#FFFFFF',\n        '600': '#000000',\n        '700': '#000000',\n        '800': '#000000',\n        '900': '#000000',\n        'A100': '#858585',\n        'A200': '#5e5e5e',\n        'A400': '#0f0f0f',\n        'A700': '#000000',\n        'contrastDefaultColor': 'dark',\n        'contrastDarkColors': '50 A100'\n      });\n\n      //$mdThemingProvider.theme('default').primaryPalette('Photogram');\n\n    });\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('admin').config(routerConfig);\n\n    function routerConfig($stateProvider) {\n        $stateProvider\n\n            .state('app.admin', {\n                url     : '/admin',\n                abstract: true,\n                template: '<div class=\"container-admin\" ui-view=\"\"></div>',\n                resolve : {\n                    admin: function ($q) {\n                        var defer = $q.defer();\n                        var user  = Parse.User.current();\n                        if (user && user.attributes.roleName === 'Admin') {\n                            defer.resolve();\n                        } else {\n                            defer.reject();\n                        }\n\n                        return defer.promise;\n                    }\n                }\n            })\n\n            .state('app.admin.dashboard', {\n                url        : '/dashboard',\n                templateUrl: 'app/admin/views/admin.home.html',\n                controller : 'AdminHomeCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.gallery', {\n                url        : '/gallery',\n                templateUrl: 'app/admin/views/admin.gallery.html',\n                controller : 'AdminGalleryCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.user', {\n                url        : '/user',\n                templateUrl: 'app/admin/views/admin.user.html',\n                controller : 'AdminUserCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.activity', {\n                url        : '/activity',\n                templateUrl: 'app/admin/views/admin.activity.html',\n                controller : 'AdminActivityCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.feedback', {\n                url        : '/feedback',\n                templateUrl: 'app/admin/views/admin.feedback.html',\n                controller : 'AdminFeedbackCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.comment', {\n                url        : '/comment',\n                templateUrl: 'app/admin/views/admin.comment.html',\n                controller : 'AdminCommentCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.setting', {\n                url        : '/setting',\n                templateUrl: 'app/admin/views/admin.setting.html',\n                controller : 'AdminSettingCtrl',\n                // controllerAs: 'vm'\n            })\n\n\n        ;\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').directive('actualSrc', function () {\n    return {\n      link: function postLink(scope, element, attrs) {\n        attrs.$observe('actualSrc', function (newVal) {\n          if (newVal !== undefined) {\n            var img = new Image();\n            img.src = attrs.actualSrc;\n            angular.element(img).bind('load', function () {\n              element.attr('src', attrs.actualSrc);\n            });\n          }\n        });\n      }\n    }\n  });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('compareTo', compareToDirective);\n\n    function compareToDirective() {\n        return {\n            restrict: 'A',\n            scope   : {\n                targetModel: '=compareTo'\n            },\n            require : 'ngModel',\n            link    : function postLink(scope, element, attrs, ctrl) {\n\n                var compare = function () {\n\n                    var e1 = element.val();\n                    var e2 = scope.targetModel;\n\n                    if (e2 !== null) {\n                        return e1 === e2;\n                    }\n\n                    return false;\n                };\n\n                scope.$watch(compare, function (newValue) {\n                    ctrl.$setValidity('errorCompareTo', newValue);\n                });\n\n            }\n        };\n    }\n\n})();\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name deleteItem\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('photogram')\n    .directive('deleteItem', deleteItemDirective);\n\n  function deleteItemDirective($mdDialog, Toast) {\n    return {\n      restrict: 'A',\n      link    : deleteItemLink,\n      scope   : {\n        model   : '=',\n        item    : '=',\n        onDelete: '='\n      }\n    };\n\n    function deleteItemLink(scope, elem, attr) {\n\n      elem.bind('click', function (event) {\n\n        var confirm = $mdDialog.confirm()\n                               .title('Confirm action')\n                               .content('Are you sure you want to delete this item?')\n                               .ok('Delete')\n                               .cancel('Cancel')\n                               .targetEvent(event)\n          ;\n\n        $mdDialog.show(confirm).then(function () {\n\n          scope.Model.destroy(item).then(function (success) {\n              Toast.simple('Item deleted.');\n              scope.onDelete();\n            },\n            function (error) {\n              Toast.simple(error.message);\n            });\n\n        });\n      });\n\n\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('emailValidator', emailValidatorDirective);\n\n    function emailValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            link    : emailValidatorLink,\n        };\n\n        function emailValidatorLink(scope, elem, attr,ngModel) {\n            ngModel.$asyncValidators.email = function  (modelValue, viewValue) {\n                console.log(viewValue);\n                if(viewValue) {\n                    return User.validateEmail(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('facebookLogin', facebookLoginDirective);\n\n    function facebookLoginDirective($state, $q, $translate, Auth, Facebook, User, $rootScope, Toast) {\n        return {\n            restrict: 'E',\n            scope: {\n                loading: '='\n            },\n            link    : facebookLoginLink,\n            template: '<md-button class=\"md-raised button-facebook\" aria-label=\"{ name || \\'loginWithFacebook\\'| translate}\"> <md-icon md-font-icon=\"icon-facebook\"></md-icon> <span>{{ name || \\'loginWithFacebook\\'| translate }}</span> </md-button>'\n        };\n\n        function facebookLoginLink(scope, elem, attr) {\n\n            scope.facebookStatus = null;\n            Facebook.getCurrentUser().then(function (resp) {\n                console.log(resp);\n                scope.facebookStatus = resp;\n                return resp;\n            }).then(function (facebookStatus) {\n                if (facebookStatus.status === 'connected') {\n                    Facebook.me().then(function (userFacebook) {\n                        scope.name = userFacebook.name;\n                    });\n                }\n            }).catch(function () {\n                console.log('Not logged');\n            });\n\n            elem.bind('click', facebookLogin);\n\n            function facebookLogin() {\n\n                scope.loading = true;\n                console.log('Login Facebook');\n                Facebook.getCurrentUser().then(function (fbAuthData) {\n                    console.log(fbAuthData);\n\n                    if (fbAuthData.status === 'connected') {\n                        var fbData = null;\n                        return Facebook.me().then(function (data) {\n                            fbData = data;\n                            return User.findByEmail(data.email);\n                        }).then(function (user) {\n                            if (!user.id) {\n                                return User.signInViaFacebook(fbAuthData);\n                            } else if (user.get('authData')) {\n                                if (user.get('authData').facebook.id === fbData.id) {\n                                    return User.signInViaFacebook(fbAuthData);\n                                }\n                            } else {\n                                var deferred = $q.defer();\n                                deferred.reject($translate.instant('emailFacebookTakenText'));\n                                return deferred.promise;\n                            }\n                        }).then(function () {\n                            return User.updateWithFacebookData(fbData);\n                        }).then(function (user) {\n                            console.log(user);\n                            Toast.simple($translate.instant('loggedInAsText') + ' ' + user.get('email'));\n                            $rootScope.currentUser = Auth.getLoggedUser();\n                            $state.go('app.feed');\n                            scope.loading = false;\n                        }, function (error) {\n                            Toast.simple(error);\n                            scope.loading = false;\n                        });\n                    }\n                });\n\n\n                function processFacebookLogin(fbAuthData) {\n\n\n                    var fbData = null;\n\n                    return Facebook.me().then(function (data) {\n                        fbData = data;\n                        return User.findByEmail(data.email);\n                    }).then(function (user) {\n                        if (!user.id) {\n                            return User.signInViaFacebook(fbAuthData);\n                        } else if (user.get('authData')) {\n                            if (user.get('authData').facebook.id === fbData.id) {\n                                return User.signInViaFacebook(fbAuthData);\n                            }\n                        } else {\n                            var deferred = $q.defer();\n                            deferred.reject($translate.instant('emailFacebookTakenText'));\n                            return deferred.promise;\n                        }\n                    }).then(function () {\n                        return User.updateWithFacebookData(fbData);\n                    }).then(function (user) {\n                        Toast.show($translate.instant('loggedInAsText') + ' ' + user.get('email'));\n                    }, function (error) {\n                        Toast.alert(error);\n                    });\n                }\n\n            }\n\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('mWidget', mWidgetDirective);\n\n    function mWidgetDirective() {\n        return {\n            restrict   : 'E',\n            link       : mWidgetLink,\n            templateUrl: 'app/directives/mWidgetDirective.html',\n            scope      : {\n                title: '=',\n                value: '=',\n                icon : '@',\n                color: '@',\n            }\n        };\n\n        function mWidgetLink(scope, elem, attr) {\n\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  \n  angular.module('photogram').directive('numbersOnly', function () {\n    return {\n      require: 'ngModel',\n      link   : function (scope, element, attr, ngModelCtrl) {\n        function fromUser(text) {\n          if (text) {\n            var transformedInput = text.replace(/[^0-9]/g, '');\n\n            if (transformedInput !== text) {\n              ngModelCtrl.$setViewValue(transformedInput);\n              ngModelCtrl.$render();\n            }\n            return transformedInput;\n          }\n          return undefined;\n        }\n\n        ngModelCtrl.$parsers.push(fromUser);\n      }\n    };\n  });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('uploadImage', uploadImageDirective);\n\n    function uploadImageDirective($q) {\n        return {\n            restrict: 'A',\n            link    : uploadImageLink\n        };\n\n        function uploadImageLink(scope, elem, attr) {\n            elem.bind('click', function () {\n                var defer     = $q.defer();\n                var fileInput = angular.element('<input type=\"file\" accept=\"image/x-png, image/gif, image/jpeg\" max-size=\"2048\" />');\n                fileInput[0].click();\n                fileInput.on('change', function (evt) {\n                    var tempImage = evt.currentTarget.files[0];\n                    var reader    = new FileReader();\n                    reader.onload = function (evt) {\n                        defer.resolve(evt.target.result);\n                    };\n                    reader.readAsDataURL(tempImage);\n                });\n                return defer.promise;\n            })\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('usernameValidator', usernameValidatorDirective);\n\n    function usernameValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            restrict: 'A',\n            link    : usernameValidatorLink,\n        };\n\n        function usernameValidatorLink(scope, elem, attr, ngModel) {\n            ngModel.$asyncValidators.username = function  (modelValue, viewValue) {\n                if(viewValue) {\n                    return User.validateUsername(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('public').config(routerConfig);\n\n    function routerConfig($stateProvider) {\n        $stateProvider\n\n            .state('app', {\n                abstract: true,\n                views   : {\n                    main         : {\n                        templateUrl: 'app/public/views/main.html',\n                        //controller : 'Mainctrl'\n                    },\n                    'toolbar@app': {\n                        templateUrl: 'app/public/views/toolbar.html',\n                        controller : 'ToolbarCtrl'\n                    },\n                    'sidenav@app': {\n                        templateUrl: 'app/public/views/sidenav.html',\n                        controller : 'SidenavCtrl'\n                    }\n\n                }\n            })\n\n\n            .state('app.feed', {\n                url        : '/',\n                templateUrl: 'app/public/views/feed.html',\n                controller : 'FeedCtrl',\n                resolve    : {\n                    user: function ($location) {\n                        var user = Parse.User.current();\n                        console.log(user);\n                        if (user) {\n                            return user;\n                        } else {\n                            $location.path('/auth/register');\n                        }\n                    }\n                }\n            })\n\n            .state('app.activity', {\n                url         : '/activity',\n                templateUrl : 'app/public/views/activity.html',\n                controller  : 'ActivityCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('app.search', {\n                url        : '/search',\n                templateUrl: 'app/public/views/search.html',\n                controller : 'FeedCtrl'\n            })\n\n            .state('app.logout', {\n                url       : '/logout',\n                template  : '<div></div>',\n                controller: 'UserLogoutCtrl',\n                // controllerAs: 'vm'\n            })\n\n\n            // Auth\n            .state('app.auth', {\n                url     : '/auth',\n                abstract: true,\n                views   : {\n                    ''           : {\n                        templateUrl : 'app/public/views/auth.layout.html',\n                        controller  : 'AuthLayoutCtrl',\n                        controllerAs: 'vm',\n                    },\n                    'toolbar@app': {\n                        template: ''\n                    }\n                }\n            })\n\n            .state('app.auth.register', {\n                url         : '/register',\n                templateUrl : 'app/public/views/register.html',\n                controller  : 'UserRegisterCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('app.auth.install', {\n                url         : '/install',\n                templateUrl : 'app/public/views/install.html',\n                controller  : 'InstallCtrl',\n                controllerAs: 'vm',\n                resolve     : {\n                    installed: function (Install, $location) {\n                        Install.status().then(function (resp) {\n                            console.log(resp);\n                            return true;\n                        }).catch(function (resp) {\n                            console.log(resp);\n                            $location.path('/auth/register');\n                        })\n                    }\n                }\n            })\n\n            .state('app.auth.login', {\n                url         : '/login',\n                templateUrl : 'app/public/views/login.html',\n                controller  : 'UserLoginCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('app.auth.reset', {\n                url        : '/reset',\n                templateUrl: 'app/public/views/reset.html',\n                controller : 'UserResetPasswordCtrl'\n            })\n\n\n            .state('app.editProfile', {\n                abstract   : true,\n                url        : '/account',\n                templateUrl: 'app/public/views/editprofile.sidenav.html',\n                controller : 'EditProfileSidenavCtrl'\n            })\n\n            .state('app.editProfile.account', {\n                url        : '/edit',\n                templateUrl: 'app/public/views/editprofile.html',\n                //controller : 'LoginCtrl'\n            })\n\n            .state('app.editProfile.password', {\n                url        : '/password',\n                templateUrl: 'app/public/views/editprofile.html',\n                //controller : 'LoginCtrl'\n            })\n\n\n            .state('app.docs', {\n                url        : '/docs',\n                templateUrl: 'app/public/views/docs.html',\n                //controller : 'LoginCtrl',\n            })\n\n            .state('app.profile', {\n                url        : '/:username',\n                templateUrl: 'app/public/views/profile.html',\n                controller : 'ProfileCtrl',\n                resolve    : {\n                    profile: function ($stateParams, User, $location) {\n                        return User.findUserByUsername({username: $stateParams.username}).then(function (user) {\n                            if (user) {\n                                return user;\n                            } else {\n                                $location.path('auth/register');\n                            }\n                        }).catch(function () {\n                            $location.path('auth/register');\n                        })\n                    }\n                }\n            })\n\n\n        ;\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('Auth', function ($q) {\n\n        var mSessionToken = null;\n        return {\n            getLoggedUser  : getLoggedUser,\n            setSessionToken: setSessionToken,\n            ensureLoggedIn : ensureLoggedIn,\n            recoverPassword: recoverPassword,\n            resetPassword  : resetPassword,\n            logIn          : logIn,\n            logOut         : logOut\n        };\n\n        function getLoggedUser() {\n            return new Parse.User.current();\n        }\n\n        function setSessionToken(sessionToken) {\n            mSessionToken = sessionToken;\n        }\n\n        function ensureLoggedIn() {\n            var defer = $q.defer();\n\n            if (mSessionToken === null) {\n                defer.reject('Session token invalid');\n                return defer.promise;\n            }\n\n            if (!Parse.User.current()) {\n                Parse.User.become(mSessionToken).then(defer.resolve, defer.reject);\n            } else {\n                defer.resolve(Parse.User.current());\n            }\n\n            return defer.promise;\n        }\n\n        function recoverPassword(email) {\n            var defer = $q.defer();\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function resetPassword(email) {\n\n            var defer = $q.defer();\n\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logIn(obj) {\n            var defer = $q.defer();\n\n            Parse.User.logIn(obj.username, obj.password, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            Parse.User.logOut().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').service('Facebook', FacebookFactory);\n\n    function FacebookFactory($q, $facebook) {\n\n        var facebook = $facebook;\n\n        return {\n            getCurrentUser: getCurrentUser,\n            logIn         : logIn,\n            logOut        : logOut,\n            me            : me,\n            invite        : invite,\n            friends       : friends,\n            api           : api,\n            link          : link\n        };\n\n        function getCurrentUser() {\n            var defer = $q.defer();\n            facebook.getLoginStatus().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function logIn() {\n            var defer = $q.defer();\n            Parse.FacebookUtils.logIn(null, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n            return defer.promise;\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            $facebook.logout().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function me() {\n\n            var defer = $q.defer();\n\n            facebook.api('/me', {fields: 'name, first_name, last_name, gender, email'}).then(function (response) {\n                if (!response || response.error) {\n                    defer.reject(response.error);\n                } else {\n                    defer.resolve(response);\n                }\n            });\n\n            return defer.promise;\n        }\n\n        function invite() {\n            var defer = $q.defer();\n            facebook.ui({\n                method : 'apprequests',\n                message: 'Venha para o nosso clube!'\n            }).then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n\n        function friends() {\n            var defer = $q.defer();\n            facebook.api('me/friends').then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function api(api) {\n            var defer = $q.defer();\n            facebook.api(api).then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function link(user) {\n            var defer = $q.defer();\n            if (user) {\n                facebook.login(['email']).then(function (response) {\n                    console.log('facebook login', response);\n                    //Pega o Status do Login\n                    var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n                    console.log(user, response, data);\n\n                    Parse.FacebookUtils.link(user, {\n                        id             : response['authResponse']['userID'],\n                        access_token   : response['authResponse']['accessToken'],\n                        expiration_date: data\n                    }, {\n                        success: function (user) {\n                            // Funo caso tenha logado tanto no face quanto no Parse\n                            console.log('User', user);\n                            user.set('facebook', response['authResponse']['userID']);\n                            user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] + '/picture?width=250&height=250');\n                            user.set('facebook_complete', Boolean(true));\n                            user.save().then(defer.resolve);\n                        }\n                    });\n                }, defer.resolve);\n            } else {\n                defer.reject('not logged');\n            }\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('GalleryActivity', function ($q, ParseCloud, moment) {\n\n    var ParseObject = Parse.Object.extend('GalleryActivity', {\n      getStatus: function () {\n        if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      feed   : function (params) {\n        return ParseCloud.run('feedActivity', params);\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        // Order Table\n        if (params.order) {\n          if (params.order.indexOf('-') < -1) {\n            query.ascending(params.order);\n          } else {\n            query.descending(params.order.replace('-'));\n          }\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n\n        }\n\n        query.include('gallery')\n        query.include('user')\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n        }\n\n        query.count({\n          success: function (count) {\n            defer.resolve(count);\n          },\n          error  : function (error) {\n            defer.reject(error);\n          }\n        });\n\n        return defer.promise;\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'fromUser', {\n      get: function () {\n        return this.get('fromUser');\n      },\n      set: function (value) {\n        this.set('fromUser', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'toUser', {\n      get: function () {\n        return this.get('toUser');\n      },\n      set: function (value) {\n        this.set('toUser', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'gallery', {\n      get: function () {\n        return this.get('gallery');\n      },\n      set: function (value) {\n        this.set('gallery', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'title', {\n      get: function () {\n        return this.get('title');\n      },\n      set: function (value) {\n        this.set('title', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'hashtags', {\n      get: function () {\n        return this.get('hashtags');\n      },\n      set: function (value) {\n        this.set('hashtags', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'words', {\n      get: function () {\n        return this.get('words');\n      },\n      set: function (value) {\n        this.set('words', value);\n      }\n    });\n\n\n    Object.defineProperty(ParseObject.prototype, 'address', {\n      get: function () {\n        return this.get('address');\n      },\n      set: function (value) {\n        this.set('address', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'image', {\n      get: function () {\n        return this.get('image');\n      },\n      set: function (value) {\n        this.set('image', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n      get: function () {\n        return this.get('imageThumb');\n      },\n      set: function (value) {\n        this.set('imageThumb', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'location', {\n      get: function () {\n        return this.get('location');\n      },\n      set: function (val) {\n        this.set('location', new Parse.GeoPoint({\n          latitude : val.latitude,\n          longitude: val.longitude\n        }));\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'isApproved', {\n      get: function () {\n        return this.get('isApproved');\n      },\n      set: function (value) {\n        this.set('isApproved', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n      get: function () {\n        return this.get('expiresAt');\n      },\n      set: function (value) {\n        this.set('expiresAt', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('Gallery', GalleryFactory);\n\n    function GalleryFactory($q, ParseCloud, moment) {\n\n        const ParseObject = Parse.Object.extend('Gallery', {\n                getStatus: function () {\n                    if (this.isApproved) {\n                        return 'Approved';\n                    } else {\n                        return 'Rejected';\n                    }\n                }\n            },\n            {\n                create: function (item) {\n                    var defer    = $q.defer();\n                    var objPlace = new ParseObject();\n                    objPlace.save(item, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n\n                feed   : function (params) {\n                    return ParseCloud.run('feedGallery', params);\n                },\n                update : function (item) {\n                    var defer = $q.defer();\n                    item.save(null, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                destroy: function (item) {\n                    var defer = $q.defer();\n                    item.destroy({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                all    : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n                    if (params.filter != '') {\n                        query.contains('words', params.filter);\n                    }\n\n                    // Order Table\n                    if (params.order) {\n                        if (params.order.indexOf('-') < -1) {\n                            query.ascending(params.order);\n                        } else {\n                            query.descending(params.order.replace('-'));\n                        }\n                    }\n\n                    // Filter Date\n                    if (params.date && params.date !== null) {\n                        var start = moment(params.date).startOf('day');\n                        var end   = moment(params.date).endOf('day');\n                        query.greaterThanOrEqualTo('createdAt', start.toDate());\n                        query.lessThanOrEqualTo('createdAt', end.toDate());\n                    }\n\n                    // Status\n                    if (params.status && params.status !== null) {\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    // Include\n                    query.include('users');\n\n                    // Limit by page\n                    query.limit(params.limit);\n\n                    // Paginate\n                    query.skip((params.page * params.limit) - params.limit);\n                    query.find({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n                count  : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n                    if (params.filter != '') {\n                        query.contains('words', params.filter);\n                    }\n\n                    if (params.date && params.date !== null) {\n                        var start = moment(params.date).startOf('day');\n                        var end   = moment(params.date).endOf('day');\n                        query.greaterThanOrEqualTo('createdAt', start.toDate());\n                        query.lessThanOrEqualTo('createdAt', end.toDate());\n                    }\n\n                    if (params.status && params.status !== null) {\n\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    query.count({\n                        success: function (count) {\n                            defer.resolve(count);\n                        },\n                        error  : function (error) {\n                            defer.reject(error);\n                        }\n                    });\n\n                    return defer.promise;\n                }\n            });\n\n        Object.defineProperty(ParseObject.prototype, 'user', {\n            get: function () {\n                return this.get('user');\n            },\n            set: function (value) {\n                this.set('user', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'commentsTotal', {\n            get: function () {\n                return this.get('commentsTotal');\n            },\n            set: function (value) {\n                this.set('commentsTotal', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'likesTotal', {\n            get: function () {\n                return this.get('likesTotal');\n            },\n            set: function (value) {\n                this.set('likesTotal', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'title', {\n            get: function () {\n                return this.get('title');\n            },\n            set: function (value) {\n                this.set('title', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'hashtags', {\n            get: function () {\n                return this.get('hashtags');\n            },\n            set: function (value) {\n                this.set('hashtags', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'words', {\n            get: function () {\n                return this.get('words');\n            },\n            set: function (value) {\n                this.set('words', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'address', {\n            get: function () {\n                return this.get('address');\n            },\n            set: function (value) {\n                this.set('address', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'image', {\n            get: function () {\n                return this.get('image');\n            },\n            set: function (value) {\n                this.set('image', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n            get: function () {\n                return this.get('imageThumb');\n            },\n            set: function (value) {\n                this.set('imageThumb', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'location', {\n            get: function () {\n                return this.get('location');\n            },\n            set: function (val) {\n                this.set('location', new Parse.GeoPoint({\n                    latitude : val.latitude,\n                    longitude: val.longitude\n                }));\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'isApproved', {\n            get: function () {\n                return this.get('isApproved');\n            },\n            set: function (value) {\n                this.set('isApproved', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n            get: function () {\n                return this.get('expiresAt');\n            },\n            set: function (value) {\n                this.set('expiresAt', value);\n            }\n        });\n\n        return ParseObject;\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('GalleryFeedback', function ($q, moment) {\n\n    var ParseObject = Parse.Object.extend('GalleryFeedback', {\n      getStatus: function () {\n        if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n        item.user    = Parse.User.current();\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n\n        }\n\n        query.include('gallery')\n        query.include('User')\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        // Order Table\n        if (params.order) {\n          if (params.order.indexOf('-') < -1) {\n            query.ascending(params.order);\n          } else {\n            query.descending(params.order.replace('-'));\n          }\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n        }\n\n        query.count({\n          success: function (count) {\n            defer.resolve(count);\n          },\n          error  : function (error) {\n            defer.reject(error);\n          }\n        });\n\n        return defer.promise;\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'user', {\n      get: function () {\n        return this.get('user');\n      },\n      set: function (value) {\n        this.set('user', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'subject', {\n      get: function () {\n        return this.get('subject');\n      },\n      set: function (value) {\n        this.set('subject', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'title', {\n      get: function () {\n        return this.get('title');\n      },\n      set: function (value) {\n        this.set('title', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'hashtags', {\n      get: function () {\n        return this.get('hashtags');\n      },\n      set: function (value) {\n        this.set('hashtags', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'words', {\n      get: function () {\n        return this.get('words');\n      },\n      set: function (value) {\n        this.set('words', value);\n      }\n    });\n\n\n    Object.defineProperty(ParseObject.prototype, 'isApproved', {\n      get: function () {\n        return this.get('isApproved');\n      },\n      set: function (value) {\n        this.set('isApproved', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n      get: function () {\n        return this.get('expiresAt');\n      },\n      set: function (value) {\n        this.set('expiresAt', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('GallerySetting', function ($q, moment) {\n\n    var ParseObject = Parse.Object.extend('GallerySetting', {\n      getStatus: function () {\n        if (moment().toDate() >= this.expiresAt) {\n          return 'Expired';\n        }\n        else if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('canonical', params.filter);\n        }\n\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        query.count({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      }\n\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'key', {\n      get: function () {\n        return this.get('key');\n      },\n      set: function (value) {\n        this.set('key', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'value', {\n      get: function () {\n        return this.get('value');\n      },\n      set: function (value) {\n        this.set('value', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('Install', InstallFactory);\n\n    function InstallFactory(ParseCloud) {\n        return {\n            start : start,\n            status: status,\n        };\n\n        function start(data) {\n            return ParseCloud.run('install', data);\n        }\n\n        function status(data) {\n            return ParseCloud.run('status', data);\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('ParseCloud', ParseCloudFactory);\n\n    function ParseCloudFactory($q) {\n        return {\n            run: run\n        };\n\n        function run(action, data) {\n            var defer = $q.defer();\n            Parse.Cloud.run(action, data, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('ParseFile', function ($q) {\n    return {\n      upload: upload\n    };\n\n    function upload(file, ext) {\n      var defer = $q.defer();\n      var filename = 'file.jpg';\n\n      if (ext) {\n        filename.replace('.jpg', ext);\n      }\n      \n      new Parse.File(filename, file)\n        .save({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n      return defer.promise;\n    }\n  });\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('photogram')\n    .factory('Toast', ToastFactory);\n\n  function ToastFactory($mdToast,$mdDialog) {\n    return {\n      simple: simple,\n      dialog: dialog\n    };\n\n    function simple(message) {\n      return $mdToast.show($mdToast.simple().textContent(message));\n    }\n\n    function dialog (text, ev) {\n      $mdDialog.show(\n          $mdDialog.alert()\n                   .parent(angular.element(document.body))\n                   .clickOutsideToClose(true)\n                   .title(title)\n                   .content(message)\n                   .ariaLabel(text)\n                   .ok('Ok')\n                   .targetEvent(ev)\n      );\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('User', UserFactory);\n\n    function UserFactory($q, ParseCloud) {\n\n        var User = Parse.User.extend({}, {\n            signIn: function (data) {\n                var defer = $q.defer();\n                Parse.User.logIn(data.username, data.password, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n\n            signUp           : function (data) {\n                var defer = $q.defer();\n                var user  = new Parse.User();\n                user.set({'name': data.name});\n                user.set({'username': data.email});\n                user.set({'email': data.email});\n                user.set({'gender': data.gender});\n                user.set({'password': data.password});\n                user.set({'roleName': 'User'});\n\n                var acl = new Parse.ACL();\n                acl.setPublicReadAccess(false);\n                acl.setPublicWriteAccess(false);\n                user.setACL(acl);\n                user.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            signInViaFacebook: function (authData) {\n\n                var expiration = new Date();\n                expiration.setSeconds(expiration.getSeconds() + authData.authResponse.expiresIn);\n                expiration = expiration.toISOString();\n\n                var facebookAuthData = {\n                    'id'             : authData.authResponse.userID,\n                    'access_token'   : authData.authResponse.accessToken,\n                    'expiration_date': expiration\n                }\n\n                var defer = $q.defer();\n\n                Parse.FacebookUtils.logIn(facebookAuthData, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n\n            findByEmail           : function (email) {\n\n                var defer = $q.defer();\n\n                Parse.Cloud.run('findUserByEmail', {email: email}, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            updateWithFacebookData: function (data) {\n\n                var defer = $q.defer();\n\n                Parse.Cloud.run('saveFacebookPicture', {}, {\n                    success: function () {\n                        var user = Parse.User.current();\n                        user.set({'email': data.email});\n                        user.set({'username': data.email.split('@')[0]});\n                        user.set({'name': data.name});\n                        user.setACL(new Parse.ACL(user));\n                        user.save(null, {\n                            success: function () {\n                                user.fetch().then(function (userFetched) {\n                                    defer.resolve(userFetched);\n                                }, function (error) {\n                                    defer.reject(error);\n                                })\n                            },\n                            error  : function (user, error) {\n                                defer.reject(error);\n                            }\n                        });\n                    },\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n\n            findUserByUsername: function (params) {\n                return ParseCloud.run('findUserByUsername', params);\n            },\n            getPublicData     : function () {\n                var defer = $q.defer();\n                new Parse.Query('UserData')\n                    .equalTo('user', Parse.User.current())\n                    .first()\n                    .then(function (userData) {\n                        if (userData) {\n                            defer.resolve(userData);\n                        } else {\n                            defer.reject(Parse.Promise.error({\n                                code   : 1,\n                                message: 'User Data not found'\n                            }));\n                        }\n                    }, defer.reject);\n\n                return defer.promise;\n            },\n            recoverPassword   : function (email) {\n                var defer = $q.defer();\n                Parse.User.requestPasswordReset(email, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy           : function () {\n                var defer = $q.defer();\n                Parse.User.current().destroy().then(defer.resolve, defer.reject);\n                return defer.promise;\n            },\n            setPhoto          : function (parseFile) {\n                var defer = $q.defer();\n                var user  = Parse.User.current();\n                user.set({'photo': parseFile});\n                user.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            follow            : function (otherUser) {\n                // create an entry in the Follow table\n                var follow = new Parse.Object('UserFolow');\n                follow.set('from', Parse.User.current());\n                follow.set('to', otherUser);\n                follow.set('date', Date());\n                follow.save();\n            },\n            all               : function (params) {\n                return ParseCloud.run('getUsers', params);\n            },\n            create            : function (data) {\n                return ParseCloud.run('createUser', data);\n            },\n            validateUsername  : function (input) {\n                var defer = $q.defer();\n                defer.resolve(true);\n\n                //ParseCloud.run('validateUsername', input).then(function (data) {\n                //    console.log(data);\n                //    if (data == true) {\n                //        defer.resolve();\n                //    } else {\n                //        defer.reject();\n                //    }\n                //});\n                return defer.promise;\n            },\n            validateEmail     : function (input) {\n                var defer = $q.defer();\n                defer.resolve(true);\n                //ParseCloud\n                //    .run('validateEmail', input)\n                //    .then(function (data) {\n                //        console.log(data);\n                //        if (data == true) {\n                //            defer.resolve();\n                //        } else {\n                //            defer.reject();\n                //        }\n                //    });\n                return defer.promise;\n            },\n            findUsername      : function (username) {\n                var defer = $q.defer();\n                new Parse.Query(this)\n                    .equalTo('username', username)\n                    .first({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    })\n                return defer.promise;\n            },\n            update            : function (user) {\n                var data = {\n                    'id'      : user.id,\n                    'name'    : user.name,\n                    'email'   : user.email,\n                    'username': user.email,\n                    'password': user.password,\n                    'gender'  : user.gender,\n                    'photo'   : user.photo,\n                    'roleName': user.roleName,\n                }\n                return ParseCloud.run('updateUser', data);\n            },\n            delete            : function (data) {\n                return ParseCloud.run('destroyUser', data);\n            },\n            fetch             : function () {\n                var defer = $q.defer();\n                if (Parse.User.current()) {\n                    Parse.User.current().fetch().then(defer.resolve, defer.reject);\n                } else {\n                    defer.reject();\n                }\n                return defer.promise;\n            }\n\n        });\n\n        Object.defineProperty(User.prototype, 'name', {\n            get: function () {\n                return this.get('name');\n            },\n            set: function (val) {\n                this.set('name', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'username', {\n            get: function () {\n                return this.get('username');\n            },\n            set: function (val) {\n                this.set('username', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'gender', {\n            get: function () {\n                return this.get('gender');\n            },\n            set: function (val) {\n                this.set('gender', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'email', {\n            get: function () {\n                return this.get('email');\n            },\n            set: function (val) {\n                this.set('email', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'photo', {\n            get: function () {\n                return this.get('photo');\n            },\n            set: function (val) {\n                this.set('photo', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'photoThumb', {\n            get: function () {\n                return this.get('photoThumb');\n            },\n            set: function (val) {\n                this.set('photoThumb', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'roleName', {\n            get: function () {\n                return this.get('roleName');\n            },\n            set: function (val) {\n                this.set('roleName', val);\n            }\n        });\n\n        return User;\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('admin').controller('AdminActivityCtrl', AdminActivityController );\n\n    function AdminActivityController($scope, $mdDialog, $mdToast, GalleryActivity) {\n\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter: '',\n            limit : 40,\n            page  : 1,\n            total : 0,\n            order : '-createdAt',\n            status: '',\n            date  : null\n        };\n\n        $scope.items = [];\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        };\n\n\n        function showSimpleToast(message) {\n            $mdToast.show(\n                $mdToast.simple().content(message).action('OK').hideDelay(3000)\n            );\n        };\n\n        function loadAll() {\n            $scope.promise = GalleryActivity.feed($scope.query).then(function (data) {\n                $scope.items = data;\n                data.map(function  (item) {\n                    console.log(item);\n                    console.log(item.attributes);\n                })\n            });\n        };\n\n        loadAll();\n\n        function loadCount() {\n            GalleryActivity.count($scope.query).then(function (total) {\n                $scope.query.total = total;\n            });\n        }\n\n        loadCount();\n\n\n        $scope.onQueryChange = function () {\n            $scope.query.page  = 1;\n            $scope.query.total = 0;\n            loadAll();\n            loadCount();\n        }\n\n        $scope.onCreateGalleryActivity = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryActivityModalController',\n                templateUrl        : 'app/admin/views/modal/admin.activity.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: null\n                },\n                clickOutsideToClose: true\n            }).then(function (answer) {\n                loadAll();\n                loadCount();\n            });\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadAll();\n        };\n\n\n        $scope.isDate = function (date) {\n            return angular.isDate(date);\n        }\n\n        $scope.updateItem = function (ev, place) {\n\n            var objGalleryActivity = angular.copy(place);\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryActivityModalController',\n                templateUrl        : 'app/admin/views//modal/admin.activity.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: objGalleryActivity\n                },\n                clickOutsideToClose: true\n            });\n        };\n\n        $scope.destroyItem = function (ev, place) {\n\n            var confirm = $mdDialog.confirm()\n                                   .title('Confirm action')\n                                   .content('Are you sure you want to delete this place?')\n                                   .ok('Delete')\n                                   .cancel('Cancel')\n                                   .targetEvent(ev);\n\n            $mdDialog.show(confirm).then(function () {\n\n                GalleryActivity.destroy(place).then(function (success) {\n                        showSimpleToast('GalleryActivity deleted.');\n                        loadAll();\n                        loadCount();\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                    });\n\n            });\n        };\n\n        $scope.aproveItem = function (place, isApproved) {\n\n            place.isApproved = isApproved;\n            place.unset('expiresAt');\n\n            GalleryActivity.update(place).then(function (success) {\n                showSimpleToast('GalleryActivity updated');\n            }).catch(function (error) {\n                showSimpleToast('There was an error');\n            });\n\n        };\n\n    }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('admin')\n    .controller('AdminCommentCtrl', function ($scope, $mdToast, $mdDialog, Comment, Auth) {\n\n      // Pagination options.\n      $scope.rowOptions = [10, 20, 40];\n\n      $scope.query = {\n        limit: 40,\n        page: 1,\n        total: 0,\n        status: null\n      };\n\n      $scope.comments = [];\n\n      var loadComments = function () {\n        $scope.promise = Comment.all($scope.query).then(function (comments) {\n          $scope.comments = comments;\n        });\n      }\n\n      loadComments();\n\n      var loadCount = function () {\n        Comment.count($scope.query).then(function (total) {\n          $scope.query.total = total;\n        });\n      }\n\n      loadCount();\n\n      var showToast = function (message) {\n        $mdToast.show(\n          $mdToast.simple()\n                  .content(message)\n                  .action('OK')\n                  .hideDelay(3000)\n        );\n      };\n\n      $scope.onQueryChange = function () {\n        $scope.query.page = 1;\n        loadComments();\n        loadCount();\n      }\n\n      $scope.onPaginationChange = function (page, limit) {\n        $scope.query.page  = page;\n        $scope.query.limit = limit;\n        loadComments();\n      };\n\n      $scope.onUpdateIsInappropriate = function (comment, value) {\n\n        var objComment = angular.copy(comment);\n\n        objComment.isInappropriate = value;\n\n        Comment.update(objComment).then(function (success) {\n          showToast('Comment updated');\n        }, function (error) {\n          showToast('There was an error');\n        });\n      };\n\n      $scope.openMenu = function ($mdOpenMenu, ev) {\n        $mdOpenMenu(ev);\n      };\n    })\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('AdminCtrl', AdminController);\n\n    function AdminController($scope, Auth, $rootScope, $state, $mdSidenav) {\n        var vm       = this;\n\n        $scope.toggle = function () {\n            $mdSidenav('leftMenu').toggle();\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('AdminFeedbackCtrl', AdminFeedbackController);\n\n    function AdminFeedbackController($scope, $mdDialog, $mdToast, GalleryFeedback) {\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter  : '',\n            limit   : 40,\n            page    : 1,\n            total   : 0,\n            status  : null,\n            category: null,\n            date    : null\n        };\n\n        $scope.places = [];\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        };\n\n\n        function showSimpleToast(message) {\n            $mdToast.show(\n                $mdToast.simple().content(message).action('OK').hideDelay(3000)\n            );\n        };\n\n        function loadAll() {\n            $scope.promise = GalleryFeedback.all($scope.query).then(function (galleries) {\n                $scope.galleries = galleries;\n            });\n        };\n\n        loadAll();\n\n        function loadCount() {\n            GalleryFeedback.count($scope.query).then(function (total) {\n                $scope.query.total = total;\n            });\n        }\n\n        loadCount();\n\n        $scope.onQueryChange = function () {\n            $scope.query.page  = 1;\n            $scope.query.total = 0;\n            loadAll();\n            loadCount();\n        }\n\n        $scope.onCreateGalleryFeedback = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryFeedbackModalController',\n                templateUrl        : 'app/admin/views/modal/admin.GalleryFeedback.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: null\n                },\n                clickOutsideToClose: true\n            }).then(function (answer) {\n                loadAll();\n                loadCount();\n            });\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadAll();\n        };\n\n\n        $scope.isDate = function (date) {\n            return angular.isDate(date);\n        }\n\n        $scope.onUpdateGalleryFeedback = function (ev, place) {\n\n            var objGalleryFeedback = angular.copy(place);\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryFeedbackModalController',\n                templateUrl        : 'app/admin/views//modal/admin.GalleryFeedback.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: objGalleryFeedback\n                },\n                clickOutsideToClose: true\n            });\n        };\n\n        $scope.onDestroyGalleryFeedback = function (ev, place) {\n\n            var confirm = $mdDialog.confirm()\n                                   .title('Confirm action')\n                                   .content('Are you sure you want to delete this place?')\n                                   .ok('Delete')\n                                   .cancel('Cancel')\n                                   .targetEvent(ev);\n\n            $mdDialog.show(confirm).then(function () {\n\n                GalleryFeedback.destroy(place).then(function (success) {\n                        showSimpleToast('GalleryFeedback deleted.');\n                        loadAll();\n                        loadCount();\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                    });\n\n            });\n        };\n\n        $scope.onUpdateIsApproved = function (place, isApproved) {\n\n            place.isApproved = isApproved;\n            place.unset('expiresAt');\n\n            GalleryFeedback\n                .update(place)\n                .then(function (success) {\n                    showSimpleToast('GalleryFeedback updated');\n                })\n                .catch(function (error) {\n                    showSimpleToast('There was an error');\n                });\n\n        };\n\n    }\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('AdminGalleryCtrl', AdminGalleryController);\n\n    function AdminGalleryController($scope, $mdDialog, Toast, Gallery) {\n\n        $scope.Model      = Gallery;\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter: '',\n            limit : 10,\n            page  : 1,\n            total : 0,\n            order : '-createdAt',\n            status: '',\n            date  : null\n        };\n\n        $scope.items = [];\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        };\n\n        $scope.init = function () {\n            loadAll();\n            loadCount();\n        };\n\n        $scope.init();\n\n\n        function loadAll() {\n            $scope.promise = Gallery.all($scope.query).then(function (galleries) {\n                galleries.map(function  (item) {\n                    console.log(item);\n                })\n                $scope.galleries = galleries;\n            });\n        };\n\n        function loadCount() {\n            Gallery.count($scope.query).then(function (total) {\n                $scope.query.total = total;\n            });\n        }\n\n\n        $scope.onQueryChange = function () {\n            $scope.query.page  = 1;\n            $scope.query.total = 0;\n            console.log($scope.query);\n            $scope.init();\n        };\n\n        $scope.onCreateGallery = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryModalController',\n                templateUrl        : 'app/admin/views/modal/admin.gallery.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: null\n                },\n                clickOutsideToClose: true\n            }).then($scope.init);\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadAll();\n        };\n\n\n        $scope.isDate = function (date) {\n            return angular.isDate(date);\n        }\n\n        $scope.onUpdateGallery = function (ev, item) {\n\n            var objGallery = angular.copy(item);\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryModalController',\n                templateUrl        : 'app/admin/views/modal/admin.gallery.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: objGallery\n                },\n                clickOutsideToClose: true\n            });\n        };\n\n\n        $scope.onUpdateIsApproved = function (item, isApproved) {\n            item.isApproved = isApproved;\n\n            console.log(item);\n            Gallery.update(item)\n                .then(function (success) {\n                    Toast.simple('Gallery updated');\n                })\n                .catch(function (error) {\n                    Toast.simple('There was an error');\n                });\n\n        };\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('admin').controller('AdminHomeCtrl', AdminHomeController);\n\n    function AdminHomeController(ParseCloud) {\n        var vm = this;\n\n        ParseCloud.run('dashboard').then(function (resp) {\n            console.log(resp);\n            vm.dashboard = resp;\n        })\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('admin')\n    .controller('AdminSettingCtrl',\n      function ($scope, $mdDialog, $mdToast, GallerySetting) {\n\n        console.log('teste');\n\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n          filter  : '',\n          limit   : 40,\n          page    : 1,\n          total   : 0,\n          status  : null,\n          category: null,\n          date    : null\n        };\n\n        $scope.places = [];\n\n        var showSimpleToast = function (message) {\n          $mdToast.show(\n            $mdToast.simple().content(message).action('OK').hideDelay(3000)\n          );\n        };\n\n        var loadGallerySettings = function () {\n          $scope.promise = GallerySetting.all($scope.query).then(function (data) {\n            $scope.galleries = data;\n          });\n        };\n\n        loadGallerySettings();\n\n        var loadCount = function () {\n          GallerySetting.count($scope.query).then(function (total) {\n            $scope.query.total = total;\n          });\n        }\n\n        loadCount();\n\n        $scope.onQueryChange = function () {\n          $scope.query.page  = 1;\n          $scope.query.total = 0;\n\n          console.log($scope.query);\n          loadGallerySettings();\n          loadCount();\n        }\n\n        $scope.onCreateGallerySetting = function (ev) {\n\n          $mdDialog.show({\n            controller         : 'AdminGallerySettingModalController',\n            templateUrl        : 'app/admin/views/modal/admin.gallery.modal.html',\n            parent             : angular.element(document.body),\n            targetEvent        : ev,\n            locals             : {\n              gallery: null\n            },\n            clickOutsideToClose: true\n          })\n                   .then(function (answer) {\n                     loadGallerySettings();\n                     loadCount();\n                   });\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n          $scope.query.page  = page;\n          $scope.query.limit = limit;\n          loadGallerySettings();\n        };\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n          $mdOpenMenu(ev);\n        };\n\n        $scope.isDate = function (date) {\n          return angular.isDate(date);\n        }\n\n        $scope.onUpdateExpiresAt = function (ev, place) {\n\n          $mdDialog.show({\n            controller         : 'DialogGallerySettingExpiresAtController',\n            templateUrl        : 'app/admin/views//modal/admin.gallery.modal.html',\n            parent             : angular.element(document.body),\n            targetEvent        : ev,\n            clickOutsideToClose: true,\n            locals             : {\n              place: place\n            }\n          });\n\n        }\n\n        $scope.onUpdateGallerySetting = function (ev, place) {\n\n          var objGallerySetting = angular.copy(place);\n\n          $mdDialog.show({\n            controller         : 'DialogGallerySettingController',\n            templateUrl        : 'app/admin/views//partials/place.html',\n            parent             : angular.element(document.body),\n            targetEvent        : ev,\n            locals             : {\n              place: objGallerySetting\n            },\n            clickOutsideToClose: true\n          });\n        };\n\n        $scope.onDestroyGallerySetting = function (ev, place) {\n\n          var confirm = $mdDialog.confirm()\n                                 .title('Confirm action')\n                                 .content('Are you sure you want to delete this place?')\n                                 .ok('Delete')\n                                 .cancel('Cancel')\n                                 .targetEvent(ev);\n\n          $mdDialog.show(confirm).then(function () {\n\n            GallerySetting.destroy(place).then(function (success) {\n                showSimpleToast('GallerySetting deleted.');\n                loadGallerySettings();\n                loadCount();\n              },\n              function (error) {\n                showSimpleToast(error.message);\n              });\n\n          });\n        };\n\n        $scope.onUpdateIsApproved = function (place, isApproved) {\n\n          place.isApproved = isApproved;\n          place.unset('expiresAt');\n\n          GallerySetting.update(place).then(function (success) {\n            showSimpleToast('GallerySetting updated');\n          }, function (error) {\n            showSimpleToast('There was an error');\n          });\n\n        };\n\n      })\n    .controller('DialogGallerySettingExpiresAtController',\n      function ($scope, $mdDialog, $mdToast, GallerySetting, place) {\n\n        $scope.place    = place;\n        $scope.formData = {};\n\n        var showToast = function (message) {\n          $mdToast.show(\n            $mdToast.simple()\n                    .content(message)\n                    .action('OK')\n                    .hideDelay(3000)\n          );\n        };\n\n        $scope.isDayInvalid = function () {\n          var days = $scope.formData.days;\n\n          if (days) {\n            days = parseInt(days, 10);\n            return days < 1;\n          }\n          return true;\n        }\n\n        $scope.onUpdateExpiresAt = function () {\n\n          var expiresAt    = moment().add($scope.formData.days, 'days').toDate();\n          place.expiresAt  = expiresAt;\n          place.isApproved = true;\n\n          $scope.isSavingExpiresAt = true;\n\n          GallerySetting.update(place).then(function (success) {\n              $scope.isSavingExpiresAt = false;\n              showToast('GallerySetting updated');\n              $scope.hide();\n            },\n            function (error) {\n              $scope.isSavingExpiresAt = false;\n              showToast('There was an error');\n            });\n        }\n\n        $scope.hide = function () {\n          $mdDialog.hide();\n        };\n\n      });\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').controller('AdminSidenavCtrl', AdminSidenavController);\n\n    function AdminSidenavController() {\n        var vm = this;\n        vm.menus = [\n            {\n                title: 'Dashboard',\n                icon : 'icon-newspaper',\n                link : 'admin.home'\n            },\n            {\n                title: 'Gallery',\n                icon : 'icon-image',\n                link : 'admin.gallery'\n            },\n            {\n                title: 'Comments',\n                icon : 'icon-message-text',\n                link : 'admin.comment'\n            },\n            {\n                title: 'Activity',\n                icon : 'icon-heart',\n                link : 'admin.activity'\n            },\n            {\n                title: 'Feedback',\n                icon : 'icon-message-text',\n                link : 'admin.feedback'\n            },\n            {\n                title: 'Users',\n                icon : 'icon-account',\n                link : 'admin.user'\n            },\n            //{\n            //    title: 'Settings',\n            //    icon : 'icon-cog',\n            //    link : 'admin.setting'\n            //},\n\n        ];\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('admin')\n           .controller('AdminUserCtrl', AdminUserController)\n           .controller('DialogUserController', DialogUserController);\n\n    function AdminUserController(User, $scope, $mdDialog, $mdToast, Auth) {\n\n        // Pagination options.\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter: '',\n            order : '-createdAt',\n            limit : 40,\n            page  : 1,\n            total : 0\n        }\n\n        $scope.users = [];\n\n        var showToast = function (message) {\n            $mdToast.show(\n                $mdToast.simple()\n                        .content(message)\n                        .action('OK')\n                        .hideDelay(3000)\n            );\n        }\n\n        User.fetch().then(function (user) {\n            $scope.loggedUser = user;\n        });\n\n        var loadUsers = function () {\n            $scope.promise = User.all($scope.query).then(function (data) {\n                $scope.users       = data.users;\n                $scope.query.total = data.total;\n            });\n        }\n\n        loadUsers();\n\n        $scope.onSearch = function () {\n            $scope.query.page = 1;\n            loadUsers();\n        }\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadUsers();\n        }\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        }\n\n        $scope.onSaveUser = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'DialogUserController',\n                templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    user: null\n                },\n                clickOutsideToClose: true\n            })\n                     .then(function (answer) {\n                         loadUsers();\n                     });\n        }\n\n        $scope.onUpdateUser = function (ev, user) {\n\n            var objUser = angular.copy(user);\n\n            $mdDialog.show({\n                controller         : 'DialogUserController',\n                templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    user: objUser\n                },\n                clickOutsideToClose: true\n            })\n                     .then(function (answer) {\n                         loadUsers();\n                     });\n        };\n\n        $scope.onDeleteUser = function (ev, user) {\n\n            var confirm = $mdDialog.confirm()\n                                   .title('Are you sure you want to delete the user?')\n                                   .ok('Delete')\n                                   .cancel('Cancel')\n                                   .targetEvent(ev);\n\n            $mdDialog.show(confirm).then(function () {\n\n                User.delete({id: user.id}).then(function () {\n                        loadUsers();\n                        showToast('User ' + user.getUsername() + ' deleted');\n                    },\n                    function (error) {\n                        console.log(error);\n                        showToast(error.message);\n                    });\n            });\n        };\n\n    }\n\n    function DialogUserController(User, ParseFile, $scope, $mdDialog, $mdToast, user) {\n\n        $scope.imageFilename = '';\n        $scope.objUser       = {\n            roleName: 'User'\n        };\n\n        if (user) {\n            $scope.objUser = user;\n            if ($scope.objUser.photo) {\n                $scope.imageFilename = $scope.objUser.photo.name();\n            }\n        }\n\n        var showSimpleToast = function (message) {\n            $mdToast.show(\n                $mdToast.simple()\n                        .content(message)\n                        .action('OK')\n                        .hideDelay(3000)\n            );\n        };\n\n        $scope.uploadImage = function (file) {\n\n            if (file === null) {\n                return;\n            } else if (file.type.match(/image.*/) === null) {\n                showSimpleToast('File not supported');\n                return;\n            } else if (file.$error) {\n                showSimpleToast('File too large. Max 2MB');\n            } else {\n\n                $scope.imageFilename = file.name;\n                $scope.isUploading   = true;\n\n                ParseFile.upload(file).then(function (savedFile) {\n                    $scope.objUser.photo = savedFile;\n                    $scope.isUploading   = false;\n                    showSimpleToast('File uploaded');\n                }, function (error) {\n\n                    showSimpleToast(error.message);\n                    $scope.isUploading   = false;\n                    $scope.objUser.photo = null;\n\n                });\n            }\n        }\n\n        $scope.onEventSaveUser = function (isValidForm) {\n\n            if (isValidForm) {\n\n                if (!$scope.objUser.password) {\n                    showSimpleToast('Password required');\n                } else if ($scope.objUser.password.length < 6) {\n                    showSimpleToast('Password should be at least 6 characters');\n                } else {\n\n                    $scope.isSavingUser = true;\n\n                    User.create($scope.objUser).then(function (data) {\n                        showSimpleToast('User saved');\n                        $mdDialog.hide();\n                        $scope.isSavingUser = false;\n                    }, function (error) {\n                        showSimpleToast(error.message);\n                        $scope.isSavingUser = false;\n                    });\n                }\n            } else {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            }\n        }\n\n        $scope.onEventUpdateUser = function (isValidForm) {\n\n            if (isValidForm) {\n\n                if ($scope.objUser.password && $scope.objUser.password.length < 6) {\n                    showSimpleToast('Password should be at least 6 characters');\n                    return;\n                }\n\n                $scope.isSavingUser = true;\n\n                User.update($scope.objUser).then(function (data) {\n                    showSimpleToast('User updated');\n                    $mdDialog.hide();\n                    $scope.isSavingUser = false;\n                }, function (error) {\n                    showSimpleToast(error.message);\n                    $scope.isSavingUser = false;\n                });\n            } else {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            }\n        }\n\n        $scope.hide = function () {\n            $mdDialog.cancel();\n        }\n\n        $scope.cancel = function () {\n            $mdDialog.cancel();\n        }\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('admin')\n    .controller('AminGalleryActivityModalController', AminGalleryActivityModalController );\n\n    function AminGalleryActivityModalController($scope, $mdDialog, $mdToast, Gallery, ParseFile, NgMap, GeoCoder, item) {\n\n        var marker, map;\n\n        $scope.gallery = {\n            title: ''\n        };\n        $scope.input   = {};\n\n        $scope.isCreating            = true;\n        $scope.isImageOneUploading   = false;\n        $scope.isImageTwoUploading   = false;\n        $scope.isImageThreeUploading = false;\n        $scope.isImageFourUploading  = false;\n\n        if (item) {\n\n            $scope.gallery = item;\n            if ($scope.gallery.image) {\n                $scope.imageOneFilename = $scope.gallery.image.name();\n            }\n\n            $scope.input.latitude  = item.location.latitude;\n            $scope.input.longitude = item.location.longitude;\n\n            $scope.isCreating = false;\n        }\n\n        var showSimpleToast = function (message) {\n            $mdToast.show(\n                $mdToast.simple()\n                        .content(message)\n                        .action('OK')\n                        .hideDelay(3000)\n            );\n        };\n\n        $scope.onAddressChanged = function () {\n            GeoCoder.geocode({address: $scope.gallery.address}).then(function (result) {\n\n                if (map) {\n\n                    var location = result[0].geometry.location;\n                    location     = new google.maps.LatLng(location.lat(), location.lng());\n\n                    map.setCenter(location);\n                    map.setZoom(15);\n\n                    marker.setPosition(location);\n\n                    $scope.gallery.location = new Parse.GeoPoint({\n                        latitude : location.lat(),\n                        longitude: location.lng()\n                    });\n\n                    $scope.input.latitude  = location.lat();\n                    $scope.input.longitude = location.lng();\n                }\n            });\n        }\n\n        NgMap.getMap().then(function (objMap) {\n\n            map    = objMap;\n            marker = map.markers[0];\n\n            // Fix gray area in second render\n            google.maps.event.trigger(map, 'resize');\n\n            if (item) {\n\n                var galleryLocation = new google.maps.LatLng(\n                    item.location.latitude,\n                    item.location.longitude);\n\n                map.setCenter(galleryLocation)\n                marker.setPosition(galleryLocation);\n                map.setZoom(15);\n            } else {\n                map.setZoom(1);\n                map.setCenter(new google.maps.LatLng(0, 0));\n            }\n        });\n\n\n        $scope.onMarkerDragEnd = function (ev) {\n\n            var lat = ev.latLng.lat();\n            var lng = ev.latLng.lng();\n\n            $scope.gallery.location = new Parse.GeoPoint({\n                latitude : lat,\n                longitude: lng\n            });\n\n            $scope.input.latitude  = lat;\n            $scope.input.longitude = lng;\n        };\n\n        $scope.onInputLocationChanged = function () {\n\n            if ($scope.input.latitude && $scope.input.longitude && map) {\n\n                $scope.gallery.location = new Parse.GeoPoint({\n                    latitude : $scope.input.latitude,\n                    longitude: $scope.input.longitude\n                });\n\n                marker.setPosition(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setCenter(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setZoom(12);\n            }\n        }\n\n        $scope.uploadImageOne = function (file, invalidFile) {\n\n            if (file) {\n\n                $scope.isImageOneUploading = true;\n                $scope.imageOneFilename    = file.name;\n\n                ParseFile.upload(file).then(function (savedFile) {\n\n                        $scope.gallery.image       = savedFile;\n                        $scope.isImageOneUploading = false;\n                        showSimpleToast('Image uploaded');\n                    },\n                    function (error) {\n                        $scope.isImageOneUploading = false;\n                        showSimpleToast(error.message);\n                    });\n\n            } else {\n                if (invalidFile) {\n                    if (invalidFile.$error === 'maxSize') {\n                        showSimpleToast('Image too big. Max ' + invalidFile.$errorParam);\n                    }\n                }\n            }\n        };\n\n\n        $scope.hide = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.cancel = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.onSaveGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            } else if (!$scope.gallery.image) {\n                showSimpleToast('Upload at least the first image');\n            } else if (!$scope.gallery.location) {\n                showSimpleToast('Ubication is required')\n            }\n            else {\n\n                $scope.isSavingGallery = true;\n\n                Gallery.create($scope.gallery).then(function (gallery) {\n                        showSimpleToast('Gallery saved');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n            }\n        };\n\n        $scope.onUpdateGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            } else {\n\n                $scope.isSavingGallery = true;\n\n                Gallery.update($scope.gallery).then(function (gallery) {\n                        showSimpleToast('Gallery updated');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n\n            }\n        };\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('admin').controller('AdminGalleryModalController',  AdminGalleryModalController );\n\n    function AdminGalleryModalController($scope, $mdDialog, Toast, Gallery, ParseFile, NgMap, GeoCoder, item) {\n\n        var marker, map;\n\n        $scope.gallery = {\n            title: ''\n        };\n        $scope.input   = {};\n\n        $scope.isCreating            = true;\n        $scope.isImageOneUploading   = false;\n        $scope.isImageTwoUploading   = false;\n        $scope.isImageThreeUploading = false;\n        $scope.isImageFourUploading  = false;\n\n        if (item) {\n            $scope.gallery = item;\n            if ($scope.gallery.image) {\n                $scope.imageOneFilename = $scope.gallery.image.name();\n            }\n\n            $scope.input.latitude  = item.location.latitude;\n            $scope.input.longitude = item.location.longitude;\n\n            $scope.isCreating = false;\n        }\n\n        $scope.onAddressChanged = function () {\n            GeoCoder.geocode({address: $scope.gallery.address}).then(function (result) {\n\n                if (map) {\n\n                    var location = result[0].geometry.location;\n                    location     = new google.maps.LatLng(location.lat(), location.lng());\n\n                    map.setCenter(location);\n                    map.setZoom(15);\n\n                    marker.setPosition(location);\n\n                    $scope.gallery.location = new Parse.GeoPoint({\n                        latitude : location.lat(),\n                        longitude: location.lng()\n                    });\n\n                    $scope.input.latitude  = location.lat();\n                    $scope.input.longitude = location.lng();\n                }\n            });\n        }\n\n        NgMap.getMap().then(function (objMap) {\n\n            map    = objMap;\n            marker = map.markers[0];\n\n            // Fix gray area in second render\n            google.maps.event.trigger(map, 'resize');\n\n            if (item) {\n\n                var galleryLocation = new google.maps.LatLng(\n                    item.location.latitude,\n                    item.location.longitude);\n\n                map.setCenter(galleryLocation)\n                marker.setPosition(galleryLocation);\n                map.setZoom(15);\n            } else {\n                map.setZoom(1);\n                map.setCenter(new google.maps.LatLng(0, 0));\n            }\n        });\n\n\n        $scope.onMarkerDragEnd = function (ev) {\n\n            var lat = ev.latLng.lat();\n            var lng = ev.latLng.lng();\n\n            $scope.gallery.location = new Parse.GeoPoint({\n                latitude : lat,\n                longitude: lng\n            });\n\n            $scope.input.latitude  = lat;\n            $scope.input.longitude = lng;\n        };\n\n        $scope.onInputLocationChanged = function () {\n\n            if ($scope.input.latitude && $scope.input.longitude && map) {\n\n                $scope.gallery.location = new Parse.GeoPoint({\n                    latitude : $scope.input.latitude,\n                    longitude: $scope.input.longitude\n                });\n\n                marker.setPosition(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setCenter(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setZoom(12);\n            }\n        }\n\n        $scope.uploadImageOne = function (file, invalidFile) {\n\n            if (file) {\n\n                $scope.isImageOneUploading = true;\n                $scope.imageOneFilename    = file.name;\n\n                ParseFile.upload(file).then(function (savedFile) {\n\n                        $scope.gallery.image       = savedFile;\n                        $scope.isImageOneUploading = false;\n                        Toast.simple('Image uploaded');\n                    },\n                    function (error) {\n                        $scope.isImageOneUploading = false;\n                        Toast.simple(error.message);\n                    });\n\n            } else {\n                if (invalidFile) {\n                    if (invalidFile.$error === 'maxSize') {\n                        Toast.simple('Image too big. Max ' + invalidFile.$errorParam);\n                    }\n                }\n            }\n        };\n\n\n        $scope.hide = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.cancel = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.onSaveGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                Toast.simple('Please correct all highlighted errors and try again');\n            } else if (!$scope.gallery.image) {\n                Toast.simple('Upload at least the first image');\n            } else if (!$scope.gallery.location) {\n                Toast.simple('Ubication is required')\n            }\n            else {\n                $scope.isSavingGallery = true;\n\n                console.log($scope.gallery);\n                Gallery.create($scope.gallery).then(function (gallery) {\n                        Toast.simple('Gallery saved');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        Toast.simple(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n            }\n        };\n\n        $scope.onUpdateGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                Toast.simple('Please correct all highlighted errors and try again');\n            } else {\n\n                $scope.isSavingGallery = true;\n\n                Gallery.update($scope.gallery).then(function (gallery) {\n                        Toast.simple('Gallery updated');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        Toast.simple(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n\n            }\n        };\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public').controller('ActivityCtrl', ActivityController);\n\n    function ActivityController($scope, GalleryActivity) {\n        var vm         = this;\n        vm.params      = {};\n        vm.params.page = 1;\n        vm.data        = [];\n\n        loadFeed();\n\n        var isLoadingViewShown   = false;\n        var isGalleriesViewShown = false;\n        var isErrorViewShown     = false;\n        var isEmptyViewShown     = false;\n\n        var isMoreData = false;\n\n        function showLoading() {\n            isLoadingViewShown   = true;\n            isGalleriesViewShown = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showGalleries() {\n            isGalleriesViewShown = true;\n            isLoadingViewShown   = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showErrorView() {\n            isErrorViewShown     = true;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showEmptyView() {\n            isEmptyViewShown     = true;\n            isErrorViewShown     = false;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n        }\n\n\n        function ensureMoreData(length) {\n            isMoreData = false;\n            if (length > 0) {\n                isMoreData = true;\n            }\n        }\n\n        function setGalleries(data) {\n            for (var i = 0; i < data.length; i++) {\n                vm.data.push(data[i]);\n            }\n        }\n\n        function setCurrentPage(page) {\n            vm.params.page = page;\n        }\n\n        function loadFeed() {\n\n            GalleryActivity.feed(vm.params).then(function (data) {\n                ensureMoreData(data.length);\n                setCurrentPage(vm.params.page + 1);\n                setGalleries(data);\n\n                if (vm.data.length === 0) {\n                    showEmptyView();\n                } else {\n                    showGalleries();\n                }\n\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n                $scope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function () {\n                if (vm.data.length === 0) {\n                    showErrorView();\n                }\n                isMoreData = false;\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        vm.onLoadMore = function () {\n            loadFeed();\n        };\n\n        vm.moreDataCanBeLoaded = function () {\n            return isMoreData;\n        };\n\n        vm.showLoadingView = function () {\n            return isLoadingViewShown;\n        };\n\n        vm.showGalleries = function () {\n            return isGalleriesViewShown;\n        };\n\n        vm.showErrorView = function () {\n            return isErrorViewShown;\n        };\n\n        vm.showEmptyView = function () {\n            return isEmptyViewShown;\n        };\n\n        vm.onReload = function () {\n            vm.params.page = 0;\n            vm.data        = [];\n            showLoading();\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('AuthLayoutCtrl', AuthLayoutController);\n\n    function AuthLayoutController() {\n        var vm        = this;\n        vm.slideIndex = 0;\n\n        vm.slideChanged = function (index) {\n            vm.slideIndex = index;\n        };\n\n        vm.slides = [\n            {src: 'assets/images/screen1.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen2.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen3.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen4.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen5.jpg', description: 'Photogram Screenshot'},\n        ]\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('EditProfileSidenavCtrl', EditProfileSidenavController);\n\n    function EditProfileSidenavController($scope, $state) {\n        var vm = this;\n        $scope.menus = [\n            {icon: 'icon-user', title: 'Edit profile', link: 'app.editProfile.account'},\n            {icon: 'icon-lock', title: 'Change password', link: 'app.editProfile.password'},\n        ];\n\n        $scope.goLink = function  (link) {\n            $state.go(link);\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('admin').controller('InstallCtrl', InstallController);\n\n    function InstallController( Install, $state, Toast) {\n        var vm  = this;\n\n        vm.form = {\n            name                : '',\n            username            : '',\n            password            : '',\n            passwordConfirmation: ''\n        }\n        \n        vm.onSubmit = function (rForm, form) {\n            console.log(form);\n            vm.loading = true;\n\n            if (!rForm.invalid) {\n                Install\n                    .start(angular.copy(form))\n                    .then(function (data) {\n                        console.log(data);\n                        Toast.simple(\"Server Installed\");\n                        $state.go('admin.login');\n                        vm.loading = false;\n                    })\n                    .catch(function (data) {\n                        Toast.simple(data.message);\n                        vm.loading = false;\n                    });\n\n            }\n        }\n        ;\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public').controller('UserLoginCtrl', LoginController);\n\n    function LoginController($rootScope, $state, Toast, Auth, User) {\n        var vm = this;\n\n        vm.onLogin = function (rForm, form) {\n\n            console.log(form);\n\n            if (!rForm.$invalid) {\n                vm.loading = true;\n                User.signIn({\n                    username   : form.username,\n                    password: form.password\n                }).then(function (user) {\n                    console.log(user);\n                    console.log(user.attributes);\n                    vm.loading             = false;\n                    console.log(Parse.User.current().attributes);\n                    $rootScope.currentUser = Auth.getLoggedUser();\n                    $state.go('app.feed');\n                }).catch(function (resp) {\n                    console.log(resp);\n                    Toast.simple('Invalid login');\n                    vm.loading = false;\n                });\n            } else {\n                Toast.simple('All inputs required');\n            }\n        };\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('public').controller('MainCtrl', MainController);\n\n    function MainController($state, $rootScope) {\n        var vm = this;\n\n        $rootScope.currentUser = Parse.User.current();\n\n        //if ($rootScope.currentUser) {\n        //    $state.go('admin.home');\n        //} else {\n        //    $state.go('admin.login');\n        //}\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('ProfileCtrl', ProfileController);\n\n    function ProfileController(Gallery, $scope, $state, $mdDialog, profile) {\n        var vm = this;\n\n        console.log(profile);\n        $scope.params          = {};\n        $scope.params.page     = 1;\n        $scope.user            = profile.attributes;\n        $scope.params.username = profile.attributes.username;\n        $scope.data            = [];\n\n\n        $scope.openMenu = function (ev) {\n\n            $mdDialog.show($mdDialog.confirm()\n                                    .title('Logout?')\n                                    .ariaLabel('Logout')\n                                    .targetEvent(ev)\n                                    .ok('Yes')\n                                    .cancel('Cancel')).then(function () {\n                $state.go('app.logout');\n            });\n        };\n\n        loadFeed();\n\n        var isLoadingViewShown   = false;\n        var isGalleriesViewShown = false;\n        var isErrorViewShown     = false;\n        var isEmptyViewShown     = false;\n\n        var isMoreData = false;\n\n        function showLoading() {\n            isLoadingViewShown   = true;\n            isGalleriesViewShown = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showGalleries() {\n            isGalleriesViewShown = true;\n            isLoadingViewShown   = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showErrorView() {\n            isErrorViewShown     = true;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showEmptyView() {\n            isEmptyViewShown     = true;\n            isErrorViewShown     = false;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n        }\n\n\n        function ensureMoreData(length) {\n            isMoreData = false;\n            if (length > 0) {\n                isMoreData = true;\n            }\n        }\n\n        function setGalleries(data) {\n            for (var i = 0; i < data.length; i++) {\n                $scope.data.push(data[i]);\n            }\n        }\n\n        function setCurrentPage(page) {\n            $scope.params.page = page;\n        }\n\n        function loadFeed() {\n\n            Gallery.feed($scope.params).then(function (data) {\n                ensureMoreData(data.length);\n                setCurrentPage($scope.params.page + 1);\n                setGalleries(data);\n\n                if ($scope.data.length === 0) {\n                    showEmptyView();\n                } else {\n                    showGalleries();\n                }\n\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n                $scope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function () {\n                if ($scope.data.length === 0) {\n                    showErrorView();\n                }\n                isMoreData = false;\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.moreDataCanBeLoaded = function () {\n            return isMoreData;\n        };\n\n        $scope.showLoadingView = function () {\n            return isLoadingViewShown;\n        };\n\n        $scope.showGalleries = function () {\n            return isGalleriesViewShown;\n        };\n\n        $scope.showErrorView = function () {\n            return isErrorViewShown;\n        };\n\n        $scope.showEmptyView = function () {\n            return isEmptyViewShown;\n        };\n\n        $scope.onReload = function () {\n            $scope.params.page = 0;\n            $scope.data        = [];\n            showLoading();\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('SearchCtrl', SearchController);\n\n    function SearchController() {\n        var vm = this;\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('photogram').controller('SidenavCtrl', SidenavController);\n\n    function SidenavController($scope, $mdSidenav) {\n        var vm = this;\n\n        $scope.toggle = function () {\n            $mdSidenav('leftMenu').toggle();\n        };\n\n        $scope.menus = [\n\n            {\n                title: 'Dashboard',\n                icon : 'icon-newspaper',\n                link : 'app.admin.dashboard'\n            },\n            {\n                title: 'Gallery',\n                icon : 'icon-image',\n                link : 'app.admin.gallery'\n            },\n            {\n                title: 'Comments',\n                icon : 'icon-message-text',\n                link : 'app.admin.comment'\n            },\n            {\n                title: 'Activity',\n                icon : 'icon-heart',\n                link : 'app.admin.activity'\n            },\n            {\n                title: 'Feedback',\n                icon : 'icon-message-text',\n                link : 'app.admin.feedback'\n            },\n            {\n                title: 'Users',\n                icon : 'icon-account',\n                link : 'app.admin.user'\n            },\n            {\n                title: 'Settings',\n                icon : 'icon-cog',\n                link : 'app.admin.setting'\n            },\n        ];\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('ToolbarCtrl', ToolbarController);\n\n    function ToolbarController($scope, $mdSidenav, Auth, $state) {\n        var vm = this;\n\n        $scope.toggle = function () {\n            $mdSidenav('leftMenu').toggle();\n        };\n\n        $scope.isAdmin = function () {\n            if (Parse.User.current()) {\n                return Parse.User.current().attributes.roleName === 'Admin' ? true : false;\n            } else {\n                return false;\n            }\n        };\n\n        $scope.homeLink = function () {\n            if (Parse.User.current()) {\n                $state.go('app.feed');\n            } else {\n                $state.go('app.auth.register');\n            }\n        };\n\n\n        $scope.profile = function () {\n            var user = Auth.getLoggedUser();\n            console.log(user);\n\n            if (user.id) {\n                $state.go('app.profile', {username: user.attributes.username})\n            } else {\n                $state.go('app.auth.register');\n            }\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('public')\n    .controller('UserCtrl', function (User, $scope, $mdDialog, $mdToast, Auth) {\n\n      // Pagination options.\n      $scope.rowOptions = [10, 20, 40];\n\n      $scope.query = {\n        filter: '',\n        limit : 40,\n        page  : 1,\n        order : '-createdAt',\n        total : 0\n      }\n\n      $scope.users = [];\n\n      var showToast = function (message) {\n        $mdToast.show(\n          $mdToast.simple()\n                  .content(message)\n                  .action('OK')\n                  .hideDelay(3000)\n        );\n      }\n\n      // Auth.ensureLoggedIn().then(function () {\n      User.fetch().then(function (user) {\n        $scope.loggedUser = user;\n      })\n      // });\n\n      var loadUsers = function () {\n        $scope.promise = User.all($scope.query).then(function (data) {\n          console.log(data);\n          $scope.users = data.users;\n          $scope.query.total = data.total;\n        });\n      }\n\n      loadUsers();\n\n      $scope.onSearch = function () {\n        $scope.query.page = 1;\n        loadUsers();\n      }\n\n      $scope.onPaginationChange = function (page, limit) {\n        $scope.query.page = page;\n        $scope.query.limit = limit;\n        loadUsers();\n      }\n\n      $scope.openMenu = function ($mdOpenMenu, ev) {\n        var originatorEv = ev;\n        $mdOpenMenu(ev);\n      }\n\n      $scope.onSaveUser = function (ev) {\n\n        $mdDialog.show({\n          controller         : 'DialogUserController',\n          templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n          parent             : angular.element(document.body),\n          targetEvent        : ev,\n          locals             : {\n            user: null\n          },\n          clickOutsideToClose: true\n        })\n                 .then(function (answer) {\n                   loadUsers();\n                 });\n      }\n\n      $scope.onUpdateUser = function (ev, user) {\n\n        var objUser = angular.copy(user);\n\n        $mdDialog.show({\n          controller         : 'DialogUserController',\n          templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n          parent             : angular.element(document.body),\n          targetEvent        : ev,\n          locals             : {\n            user: objUser\n          },\n          clickOutsideToClose: true\n        })\n                 .then(function (answer) {\n                   loadUsers();\n                 });\n      };\n\n      $scope.onDeleteUser = function (ev, user) {\n\n        var confirm = $mdDialog.confirm()\n                               .title('Are you sure you want to delete the user?')\n                               .ok('Delete')\n                               .cancel('Cancel')\n                               .targetEvent(ev);\n\n        $mdDialog.show(confirm).then(function () {\n\n          User.delete({id: user.id}).then(function () {\n              loadUsers();\n              showToast('User ' + user.getUsername() + ' deleted');\n            },\n            function (error) {\n              console.log(error);\n              showToast(error.message);\n            });\n        });\n      };\n\n    }).controller('DialogUserController',\n    function (User, ParseFile, $scope, $mdDialog, $mdToast, user) {\n\n      $scope.imageFilename = '';\n      $scope.objUser = {\n        roleName: 'User'\n      };\n\n      if (user) {\n        $scope.objUser = user;\n        if ($scope.objUser.photo) {\n          $scope.imageFilename = $scope.objUser.photo.name();\n        }\n      }\n\n      var showSimpleToast = function (message) {\n        $mdToast.show(\n          $mdToast.simple()\n                  .content(message)\n                  .action('OK')\n                  .hideDelay(3000)\n        );\n      };\n\n      $scope.uploadImage = function (file) {\n\n        if (file === null) {\n          return;\n        } else if (file.type.match(/image.*/) === null) {\n          showSimpleToast('File not supported');\n          return;\n        } else if (file.$error) {\n          showSimpleToast('File too large. Max 2MB');\n        } else {\n\n          $scope.imageFilename = file.name;\n          $scope.isUploading = true;\n\n          ParseFile.upload(file).then(function (savedFile) {\n            $scope.objUser.photo = savedFile;\n            $scope.isUploading = false;\n            showSimpleToast('File uploaded');\n          }, function (error) {\n\n            showSimpleToast(error.message);\n            $scope.isUploading = false;\n            $scope.objUser.photo = null;\n\n          });\n        }\n      }\n\n      $scope.onEventSaveUser = function (isValidForm) {\n\n        if (isValidForm) {\n\n          if (!$scope.objUser.password) {\n            showSimpleToast('Password required');\n          } else if ($scope.objUser.password.length < 6) {\n            showSimpleToast('Password should be at least 6 characters');\n          } else {\n\n            $scope.isSavingUser = true;\n\n            User.create($scope.objUser).then(function (data) {\n              showSimpleToast('User saved');\n              $mdDialog.hide();\n              $scope.isSavingUser = false;\n            }, function (error) {\n              showSimpleToast(error.message);\n              $scope.isSavingUser = false;\n            });\n          }\n        } else {\n          showSimpleToast('Please correct all highlighted errors and try again');\n        }\n      }\n\n      $scope.onEventUpdateUser = function (isValidForm) {\n\n        if (isValidForm) {\n\n          if ($scope.objUser.password && $scope.objUser.password.length < 6) {\n            showSimpleToast('Password should be at least 6 characters');\n            return;\n          }\n\n          $scope.isSavingUser = true;\n\n          User.update($scope.objUser).then(function (data) {\n            showSimpleToast('User updated');\n            $mdDialog.hide();\n            $scope.isSavingUser = false;\n          }, function (error) {\n            showSimpleToast(error.message);\n            $scope.isSavingUser = false;\n          });\n        } else {\n          showSimpleToast('Please correct all highlighted errors and try again');\n        }\n      }\n\n      $scope.hide = function () {\n        $mdDialog.cancel();\n      }\n\n      $scope.cancel = function () {\n        $mdDialog.cancel();\n      }\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('public').controller('UserLogoutCtrl', UserLogoutController);\n\n    function UserLogoutController(Auth, $rootScope, $state) {\n\n        Auth.logOut().then(function () {\n            $rootScope.currentUser = null;\n            $state.go('app.auth.register');\n        });\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public').controller('UserRegisterCtrl', UserRegisterController);\n\n    function UserRegisterController(User, $rootScope, Auth, $state, Toast) {\n        var vm  = this;\n        vm.form = {\n            name                : '',\n            username            : '',\n            password            : '',\n            passwordConfirmation: ''\n        }\n\n        vm.genders = [\n            {\n                text : 'USER.FORM.MAN',\n                value: 'man'\n            },\n            {\n                text : 'USER.FORM.WOMAN',\n                value: 'woman'\n            }\n        ];\n\n        vm.validateUsername = function (input) {\n            return User.validateUsername({input: input});\n        };\n\n        vm.validateEmail = function (input) {\n            return User.validateEmail({input: input});\n        };\n\n\n        vm.onSubmit = function (rForm, form) {\n            console.log(rForm, form);\n\n            if (!rForm.$invalid) {\n                vm.loading   = true;\n                var userForm = angular.copy(form);\n                delete userForm.passwordConfirmation;\n\n                User.signUp(userForm).then(function (data) {\n                    console.log(data);\n                    Toast.simple(\"Server Installed\");\n                    User.signIn({\n                        username   : userForm.username,\n                        password: userForm.password\n                    }).then(function (user) {\n                        console.log(user);\n                        console.log(user.attributes);\n                        vm.loading             = false;\n                        $rootScope.currentUser = Auth.getLoggedUser();\n                        console.log(Parse.User.current().attributes);\n                        $state.go('app.feed');\n                    }).catch(function (resp) {\n                        console.log(resp);\n                        Toast.simple('Invalid login');\n                        vm.loading = false;\n                    });\n\n                }).catch(function (data) {\n                    Toast.simple(data.message);\n                    vm.loading = false;\n                });\n            } else {\n                Toast.simple('Complete all fields');\n            }\n        }\n        ;\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('UserResetPasswordCtrl', UserResetPasswordCtrl);\n\n    function UserResetPasswordCtrl($scope, Toast, $mdDialog, Auth) {\n\n        $scope.isLoading = false;\n\n        var showDialog = function (title, message, ev) {\n\n            $mdDialog.show(\n                $mdDialog.alert()\n                         .parent(angular.element(document.body))\n                         .clickOutsideToClose(true)\n                         .title(title)\n                         .content(message)\n                         .ariaLabel('Alert Dialog')\n                         .ok('Ok')\n                         .targetEvent(ev)\n            );\n        }\n\n        $scope.onReset = function (rForm, form, $event) {\n\n            if (!rForm.$invalid) {\n\n                $scope.isLoading = true;\n                Auth.resetPassword($scope.email).then(function (success) {\n                    $scope.isLoading = false;\n                    showDialog('Success', 'Check your email to reset your password', $event);\n                }, function (error) {\n                    $scope.isLoading = false;\n                    showDialog('Error', error.message, $event);\n                })\n            }\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('FeedCtrl', FeedController);\n\n    function FeedController(Gallery, $scope) {\n        var vm = this;\n        console.log('Feed Controller');\n\n        $scope.params      = {};\n        $scope.params.page = 1;\n        $scope.data        = [];\n\n        $scope.onReload = function () {\n            $scope.params.page = 0;\n            $scope.data        = [];\n            showLoading();\n            loadFeed();\n            $scope.loading = true;\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n        $scope.onReload();\n\n        var isLoadingViewShown   = false;\n        var isGalleriesViewShown = false;\n        var isErrorViewShown     = false;\n        var isEmptyViewShown     = false;\n\n        var isMoreData = false;\n\n        function showLoading() {\n            isLoadingViewShown   = true;\n            isGalleriesViewShown = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showGalleries() {\n            isGalleriesViewShown = true;\n            isLoadingViewShown   = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showErrorView() {\n            isErrorViewShown     = true;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showEmptyView() {\n            isEmptyViewShown     = true;\n            isErrorViewShown     = false;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n        }\n\n\n        function ensureMoreData(length) {\n            isMoreData = false;\n            if (length > 0) {\n                isMoreData = true;\n            }\n        }\n\n        function setGalleries(data) {\n            for (var i = 0; i < data.length; i++) {\n                $scope.data.push(data[i]);\n            }\n        }\n\n        function setCurrentPage(page) {\n            $scope.params.page = page;\n        }\n\n        function loadFeed() {\n\n            Gallery.feed($scope.params).then(function (data) {\n                ensureMoreData(data.length);\n                setCurrentPage($scope.params.page + 1);\n                setGalleries(data);\n\n                if ($scope.data.length === 0) {\n                    showEmptyView();\n                } else {\n                    showGalleries();\n                }\n\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n                $scope.$broadcast('scroll.refreshComplete');\n                $scope.loading = false;\n\n            }).catch(function () {\n                if ($scope.data.length === 0) {\n                    showErrorView();\n                }\n                isMoreData     = false;\n                $scope.loading = false;\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.moreDataCanBeLoaded = function () {\n            return isMoreData;\n        };\n\n        $scope.showLoadingView = function () {\n            return isLoadingViewShown;\n        };\n\n        $scope.showGalleries = function () {\n            return isGalleriesViewShown;\n        };\n\n        $scope.showErrorView = function () {\n            return isErrorViewShown;\n        };\n\n        $scope.showEmptyView = function () {\n            return isEmptyViewShown;\n        };\n\n\n    }\n\n})();\n;(function() {\n\"use strict\";\n\nangular.module(\"photogram\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/directives/mWidgetDirective.html\",\"<div layout=\\\"row\\\" flex><md-card class=\\\"md-padding\\\" layout=\\\"column\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nflex><h1 class=\\\"title\\\" ng-bind-html=\\\"title\\\"></h1><h3 class=\\\"value\\\" ng-bind-html=\\\"value\\\"></h3></div><div \\nclass=\\\"background-image-center\\\"><md-icon md-font-icon=\\\"icon-user\\\"></md-icon></div></md-card></div>\");\n$templateCache.put(\"app/admin/views/admin.activity.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Activity</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"approved\\\">Approved</md-option><md-option value=\\\"rejected\\\">Rejected\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-itemholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar><md-table-container>\\n<table md-table md-progress=\\\"promise\\\"><thead md-head md-order=\\\"query.order\\\" md-on-reorder=\\\"onQueryChange\\\"><tr md-row>\\n<th md-column>Avatar</th><th md-column>From User</th><th md-column>Action</th><th md-column>To User</th><th md-column>\\nGallery</th><th md-column>Status</th><th md-column md-order-by=\\\"createdAt\\\">Created At</th><th name=\\\"Actions\\\"></th></tr>\\n</thead><tbody md-body><tr md-row ng-repeat=\\\"item in items\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" \\nng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ item.fromUser.attributes.photo._url }}\\\"></td><td md-cell>\\n{{:: item.user.name}}</td><td md-cell>{{:: item.action }}</td><td md-cell>{{:: item.user.attributes.name}}</td><td \\nmd-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ item.attributes.gallery.attributes.image._url }}\\\"></td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'green\\': item.getStatus() === \\'Approved\\',\\n\t\t\t\t\t\t\t\\'red\\': item.getStatus() === \\'Rejected\\' }\\\">\\n{{ item.getStatus() }}</span></td><td md-cell>{{ item.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu>\\n<md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit item\\\" ng-click=\\\"updateItem($event, item)\\\">Edit\\n</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete item\\\"><md-button aria-label=\\\"Delete item\\\" \\nng-click=\\\"destroyItem($event, item)\\\">Delete</md-button></md-menu-item><md-divider></md-divider><md-menu-item><md-button\\n aria-label=\\\"Approve item\\\" ng-click=\\\"aproveItem(item, true)\\\">Approve</md-button></md-menu-item><md-menu-item><md-button\\n aria-label=\\\"Reject item\\\" ng-click=\\\"aproveItem(item, false)\\\">Reject</md-button></md-menu-item></md-menu-content>\\n</md-menu></td></tr></tbody></table></md-table-container><md-table-pagination md-options=\\\"rowOptions\\\" \\nmd-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select md-total=\\\"{{query.total}}\\\" \\nmd-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination><md-button class=\\\"md-fab md-fab md-fab-bottom-right\\\" \\naria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon class=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button></md-card></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.comment.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Comment</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container class=\\\"md-block\\\"><label>\\nStatus</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\"><md-option value=\\\"\\\">All</md-option>\\n<md-option value=\\\"inappropriate\\\">Inappropriate</md-option><md-option value=\\\"appropriate\\\">Appropriate</md-option>\\n</md-select></md-input-container></div></md-content></div></md-table-toolbar><md-table-container><table md-table \\nmd-progress=\\\"promise\\\"><thead md-head md-order=\\\"query.order\\\" md-on-reorder=\\\"onQueryChange\\\"><tr md-row><th md-column>\\n</th><th md-column>Name</th><th md-column>Comment</th><th md-column>Rating</th><th md-column>Place</th><th md-column \\nmd-order-by=\\\"createdAt\\\">Created At</th><th md-column></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"comment in comments\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ comment.userData.get(\\'photo\\').url() }}\\\"></td><td md-cell>{{ comment.userData.get(\\'name\\') }}</td><td \\nmd-cell><span><md-tooltip md-direction=\\\"top\\\">{{ comment.comment }}</md-tooltip>{{ comment.comment }}</span></td><td \\nmd-cell>{{ comment.place.get(\\'title\\') }}</td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'red\\': comment.getStatus() === \\'Inappropriate\\' }\\\">{{ comment.getStatus() }}</span></td><td md-cell>\\n{{ item.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu><md-button aria-label=\\\"Open menu\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><ng-md-icon md-menu-origin icon=\\\"more_vert\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"></ng-md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\naria-label=\\\"Mark as appropriate\\\" ng-click=\\\"onUpdateIsInappropriate(comment, false)\\\">Flag as appropriate</md-button>\\n</md-menu-item><md-menu-item><md-button aria-label=\\\"Mark as inappropriate\\\" \\nng-click=\\\"onUpdateIsInappropriate(comment, true)\\\">Flag as inappropriate</md-button></md-menu-item></md-menu-content>\\n</md-menu></td></tr></tbody></table></md-table-container><md-table-pagination md-options=\\\"rowOptions\\\" \\nmd-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select md-total=\\\"{{query.total}}\\\" \\nmd-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination></md-card></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.feedback.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Feedback</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"approved\\\">Approved</md-option><md-option value=\\\"rejected\\\">Rejected\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-galleryholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar>\\n<md-table-container><table md-table md-progress=\\\"promise\\\"><thead md-head><tr md-row><th md-column>Image</th><th \\nmd-column>Title</th><th md-column>User</th><th md-column>Avatar</th><th md-column>Hashtags</th><th md-column>Status\\n</th><th md-column>Created At</th><th name=\\\"Actions\\\"></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"gallery in galleries\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ gallery.attributes.imageThumb._url }}\\\"></td><td md-cell>{{:: gallery.title }}</td><td md-cell>\\n{{:: gallery.user.attributes.name}}</td><td md-cell><img class=\\\"img-thumb img-circle\\\" \\nng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ gallery.user.attributes.photo._url }}\\\"></td><td md-cell>\\n{{:: gallery.hashtags }}</td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'green\\': gallery.getStatus() === \\'Approved\\',\\n\t\t\t\t\t\t\t\\'red\\': gallery.getStatus() === \\'Rejected\\' }\\\">\\n{{ gallery.getStatus() }}</span></td><td md-cell>{{ gallery.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu>\\n<md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit gallery\\\" \\nng-click=\\\"onUpdateGallery($event, gallery)\\\">Edit</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete gallery\\\">\\n<md-button aria-label=\\\"Delete gallery\\\" ng-click=\\\"onDestroyGallery($event, gallery)\\\">Delete</md-button></md-menu-item>\\n<md-divider></md-divider><md-menu-item><md-button aria-label=\\\"Approve gallery\\\" \\nng-click=\\\"onUpdateIsApproved(gallery, true)\\\">Approve</md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Reject gallery\\\" ng-click=\\\"onUpdateIsApproved(gallery, false)\\\">Reject</md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></md-table-container><md-table-pagination \\nmd-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select \\nmd-total=\\\"{{query.total}}\\\" md-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination><md-button \\nclass=\\\"md-fab md-fab md-fab-bottom-right\\\" aria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon \\nclass=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button></md-card>\\n</ion-content>\");\n$templateCache.put(\"app/admin/views/admin.gallery.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Gallery</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"approved\\\">Approved</md-option><md-option value=\\\"rejected\\\">Rejected\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-galleryholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar>\\n<md-table-container><table md-table md-progress=\\\"promise\\\"><thead md-head md-order=\\\"query.order\\\" \\nmd-on-reorder=\\\"onQueryChange\\\"><tr md-row><th md-column>Image</th><th md-column md-order-by=\\\"title\\\">Title</th><th \\nmd-column>User</th><th md-column></th><th md-column>Comments</th><th md-column>Like</th><th md-column>Status</th><th \\nmd-column md-order-by=\\\"createdAt\\\">Created At</th><th name=\\\"Actions\\\"></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"gallery in galleries\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ gallery.imageThumb._url }}\\\"></td><td md-cell>{{:: gallery.title }}</td><td md-cell><img \\nclass=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ gallery.user.photo._url }}\\\"></td>\\n<td md-cell>{{:: gallery.user.name}}</td><td md-cell>{{:: gallery.commentsTotal }}</td><td md-cell>\\n{{:: gallery.likesTotal }}</td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'green\\': gallery.isApproved == true,\\n\t\t\t\t\t\t\t\\'red\\': gallery.isApproved === false }\\\">\\n{{ gallery.getStatus() }}</span></td><td md-cell>{{ gallery.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu>\\n<md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit gallery\\\" \\nng-click=\\\"onUpdateGallery($event, gallery)\\\">Edit</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete gallery\\\">\\n<md-button aria-label=\\\"Delete gallery\\\" delete-item model=\\\"Model\\\" item=\\\"gallery\\\" on-delete=\\\"init\\\">Delete</md-button>\\n</md-menu-item><md-divider></md-divider><md-menu-item><md-button aria-label=\\\"Approve gallery\\\" \\nng-click=\\\"onUpdateIsApproved(gallery.galleryObj, true)\\\">Approve</md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Reject gallery\\\" ng-click=\\\"onUpdateIsApproved(gallery.galleryObj, false)\\\">Reject</md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></md-table-container><md-table-pagination \\nmd-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select \\nmd-total=\\\"{{query.total}}\\\" md-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination></md-card></ion-content><md-button\\n class=\\\"md-fab md-fab md-fab-bottom-right\\\" aria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon \\nclass=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/admin/views/admin.home.html\",\"<ion-content class=\\\"container-admin\\\"><div layout=\\\"row\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"25\\\"><m-widget \\nng-repeat=\\\"data in vm.dashboard\\\" title=\\\"data.title\\\" value=\\\"data.value\\\" icon=\\\"icon-user\\\"></m-widget></div></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.setting.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Settings</h1><md-setting><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"pending\\\">Pending</md-option><md-option value=\\\"approved\\\">Approved\\n</md-option><md-option value=\\\"rejected\\\">Rejected</md-option><md-option value=\\\"expired\\\">Expired</md-option><md-option \\nvalue=\\\"expireInTenDays\\\">Expires in 10 days</md-option><md-option value=\\\"expireInThirtyDays\\\">Expires in 30 days\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-galleryholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar>\\n<md-table-container><table md-table md-progress=\\\"promise\\\"><thead md-head><tr md-row><th md-column>Key</th><th \\nmd-column>Value</th><th md-column>Created At</th><th name=\\\"Actions\\\"></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"gallery in galleries\\\"><td md-cell>{{:: gallery.key }}</td><td md-cell>{{:: gallery.value }}</td><td md-cell>\\n<md-menu><md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit gallery\\\" \\nng-click=\\\"onUpdateGallery($event, gallery)\\\">Edit</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete gallery\\\">\\n<md-button aria-label=\\\"Delete gallery\\\" ng-click=\\\"onDestroyGallery($event, gallery)\\\">Delete</md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></md-table-container><md-table-pagination \\nmd-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-page=\\\"query.page\\\" md-total=\\\"{{query.total}}\\\" \\nmd-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination><md-button class=\\\"md-fab md-fab md-fab-bottom-right\\\" \\naria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon class=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button></md-setting></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.user.html\",\"<ion-content class=\\\"container-admin\\\"><h1>User</h1><md-card><md-table-toolbar><div layout=\\\"row\\\" flex><md-content \\nflex=\\\"100\\\"><md-input-container class=\\\"md-block\\\" flex-gt-xs><input type=\\\"text\\\" placeholder=\\\"Search by email...\\\" \\nng-model=\\\"query.filter\\\" ng-change=\\\"onSearch()\\\" ng-model-options=\\\"{ debounce: 1000 }\\\"></md-input-container></md-content>\\n</div></md-table-toolbar><md-table-container><table md--table md-progress=\\\"promise\\\"><thead md-head \\nmd-order=\\\"query.order\\\" md-on-reorder=\\\"onSearch\\\"><tr md-row><th md-column></th><th md-column md-order-by=\\\"name\\\">Name\\n</th><th md-column md-order-by=\\\"username\\\">Username</th><th md-column md-order-by=\\\"email\\\">Email</th><th md-column \\nmd-order-by=\\\"gender\\\">Gender</th><th md-column md-order-by=\\\"createdAt\\\">Created At</th></tr></thead><tbody md-body><tr \\nmd-row ng-repeat=\\\"user in users\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{:: user.photo.url() }}\\\"></td><td md-cell>{{:: user.name }}</td><td md-cell>{{:: user.username }}</td><td \\nmd-cell>{{:: user.email }}</td><td md-cell>{{:: user.gender }}</td><td md-cell>{{ user.createdAt | date:\\'mediumDate\\' }}\\n</td><td md-cell><md-menu><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Open menu\\\" \\nng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon md-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\naria-label=\\\"Edit user\\\" ng-click=\\\"onUpdateUser($event, user)\\\">Edit</md-button></md-menu-item><md-menu-item \\nng-if=\\\"loggedUser.id !== user.id\\\"><md-button aria-label=\\\"Delete user\\\" ng-click=\\\"onDeleteUser($event, user)\\\">Delete\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></md-table-container>\\n<md-table-pagination md-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" \\nmd-page-select md-total=\\\"{{query.total}}\\\" md-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination></md-card>\\n</ion-content><md-button class=\\\"md-fab md-fab md-fab-bottom-right\\\" aria-label=\\\"New user\\\" ng-click=\\\"onSaveUser($event)\\\">\\n<md-icon class=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/public/views/activity.html\",\"<ion-content><div class=\\\"list-activity container\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.showErrorView()\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button\\n class=\\\"button button-{{theme}}\\\" ng-click=\\\"vm.onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"vm.showEmptyView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i>\\n<p>{{ \\\"placesNotFoundText\\\" | translate }}</p></div></div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" \\non-refresh=\\\"onReload()\\\"></ion-refresher><div class=\\\"list\\\"><div class=\\\"item item-avatar item-animate1\\\" \\nng-repeat=\\\"item in vm.data\\\"><img ng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ item.user.photo._url }}\\\"><h2>\\n{{ item.user.name}}</h2><div class=\\\"text\\\">{{ item.action }}</div><p>{{ item.createdAt | amTimeAgo }}</p><div \\nclass=\\\"img-right\\\" ng-if=\\\"item.item.gallery\\\"><img ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ item.item.gallery.attributes.imageThumb._url }}\\\"></div></div></div><ion-infinite-scroll \\non-infinite=\\\"onLoadMore()\\\" ng-if=\\\"vm.moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\"></ion-infinite-scroll></div>\\n</ion-content>\");\n$templateCache.put(\"app/public/views/auth.layout.html\",\"<ion-content id=\\\"view-login\\\"><div class=\\\"container\\\"><article layout=\\\"row\\\"><section class=\\\"mobile\\\" flex><ion-slide-box \\nactive-slide=\\\"slideIndex\\\" auto-play=\\\"true\\\" slide-interval=\\\"3000\\\" show-pager=\\\"false\\\" does-continue=\\\"true\\\" \\non-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide ng-repeat=\\\"slide in vm.slides track by $index\\\"><img \\nng-if=\\\"$index == vm.slideIndex\\\" ng-src=\\\"{{slide.src}}\\\" alt=\\\"{{slide.description}}\\\"></ion-slide></ion-slide-box>\\n</section><section flex><div ui-view></div><p class=\\\"text-center padding\\\">Get the app</p><div class=\\\"appstores\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center\\\" flex><a \\nhref=\\\"https://itunes.apple.com/br/app/photogram-ionic-parse/id1035132099?mt=8\\\" target=\\\"_blank\\\"><img \\nsrc=\\\"assets/images/appstore.png\\\" alt=\\\"Apple Play\\\"></a><a \\nhref=\\\"https://play.google.com/store/apps/details?id=com.agenciafoccus.photogram\\\" target=\\\"_blank\\\"><img \\nsrc=\\\"assets/images/googleplay.png\\\" alt=\\\"Google Play\\\"></a></div></section></article><footer flex=\\\"none\\\" layout=\\\"row\\\">\\n<nav><ul><li><a href=\\\"\\\">About us</a></li><li><a href=\\\"\\\">Support</a></li><li><a href=\\\"\\\">Blog</a></li></ul></nav><span \\nflex></span> @2016 Photogram</footer></div></ion-content>\");\n$templateCache.put(\"app/public/views/docs.html\",\"Documentation\");\n$templateCache.put(\"app/public/views/editprofile.html\",\"campos do perfil asdadas\");\n$templateCache.put(\"app/public/views/editprofile.sidenav.html\",\"<div layout=\\\"row\\\" layout-fill flex><md-sidenav layout=\\\"column\\\" class=\\\"md-sidenav-left\\\" md-component-id=\\\"left\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-disable-backdrop md-whiteframe=\\\"4\\\"><md-content flex><md-list><md-list-item \\nng-repeat=\\\"item in  menus\\\"><a ng-click=\\\"goLink(item.link)\\\"><md-item-content md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"inset\\\"><md-icon md-font-icon=\\\"{{item.icon}}\\\"></md-icon></div><div \\nclass=\\\"inset\\\">{{ item.title}}</div></md-item-content></a></md-list-item></md-list></md-content></md-sidenav><md-content\\n class=\\\"container\\\" flex layout-padding><div layout=\\\"column\\\" layout-fill layout-align=\\\"top center\\\"><p>\\nThe left sidenav will \\'lock open\\' on a medium (>=960px wide) device.</p><p>\\nThe right sidenav will focus on a specific child element.</p><div><md-button ng-click=\\\"toggleLeft()\\\" \\nclass=\\\"md-primary\\\" hide-gt-md>Toggle left</md-button></div><div><md-button ng-click=\\\"toggleRight()\\\" \\nng-hide=\\\"isOpenRight()\\\" class=\\\"md-primary\\\">Toggle right</md-button></div></div></md-content></div>\");\n$templateCache.put(\"app/public/views/feed.html\",\"<ion-content><div class=\\\"container\\\"><div class=\\\"center padding\\\" ng-if=\\\"showErrorView()\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"placesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center\\\"><ion-spinner ng-if=\\\"loading\\\"></ion-spinner>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><md-card \\nclass=\\\"item-animate1\\\" ng-repeat=\\\"item in data\\\"><md-card-header><md-card-avatar><img \\nng-src=\\\"/assets/images/placeholder.png\\\" ui-sref=\\\"app.profile({username: item.user.username})\\\" \\nactual-src=\\\"{{item.user.photo._url}}\\\" style=\\\"border-radius: 50%\\\"></md-card-avatar><md-card-header-text><span \\nclass=\\\"md-title\\\" layout=\\\"row\\\"><span>{{item.user.name}}</span> <span flex></span> <span>{{item.createdAt | amTimeAgo}}\\n</span> </span><span class=\\\"md-subhead\\\">{{item.user.status}}</span></md-card-header-text></md-card-header><img \\nng-src=\\\"/assets/images/placeholder-image.jpg\\\" actual-src=\\\"{{item.image._url}}\\\" class=\\\"md-card-image\\\" alt=\\\"Washed Out\\\">\\n<md-card-content><p><b>{{item.user.username}}</b> {{item.title}}</p><p ng-repeat=\\\"comment in item.comments\\\"><b>\\n{{comment.user.username}}</b> {{comment.text}}</p></md-card-content></md-card><ion-infinite-scroll \\non-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\"></ion-infinite-scroll></div>\\n</ion-content><md-button ng-if=\\\"currentUser\\\" class=\\\"md-fab md-accent fadeIn\\\" upload-image \\naria-label=\\\"{ \\'PLUS\\'|translate}\\\"><md-icon md-font-icon=\\\"ion-ios-camera-outline\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/public/views/install.html\",\"<form name=\\\"userForm\\\" ng-submit=\\\"vm.onSubmit(userForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex>\\n<md-card-content layout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img \\nclass=\\\"photogram-icon\\\" src=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\">\\n</md-icon><span flex></span></div><h2>Create admin user</h2><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-email\\\"></md-icon><input required type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.form.email\\\" email-validator \\nng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[_a-z0-9-+]+(\\\\.[_a-z0-9-+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)*(\\\\.[a-z]{2,4})$/\\\" \\nplaceholder=\\\"someone@example.com\\\"><div ng-if=\\\"userForm.email.$dirty\\\"><div ng-messages=\\\"userForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"emailInUse\\\"></div></div><div ng-messages=\\\"userForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.form.name\\\" \\nplaceholder=\\\"Full Name\\\" ng-minlength=\\\"3\\\" required><div ng-if=\\\"userForm.name.$dirty\\\" ng-messages=\\\"userForm.name.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" translate=\\\"ERROR.NAME_REQUIRED\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.NAME_MIN\\\"></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-clipboard-account\\\"></md-icon><input name=\\\"username\\\" type=\\\"text\\\" \\nng-model=\\\"vm.form.username\\\" username-validator ng-minlength=\\\"3\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/(?=.*[A-Za-z])[A-Za-z\\\\d]{3,10}/\\\" placeholder=\\\"Username\\\" required><div ng-if=\\\"userForm.username.$dirty\\\" \\nng-messages=\\\"userForm.username.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-gender-male-female\\\"></md-icon><md-select ng-model=\\\"vm.form.gender\\\" name=\\\"gender\\\" required \\nplaceholder=\\\"{{\\'Gender\\' | translate}}\\\"><md-option value=\\\"man\\\" translate=\\\"Man\\\"></md-option><md-option value=\\\"woman\\\" \\ntranslate=\\\"Woman\\\"></md-option><md-option value=\\\"other\\\" translate=\\\"Other\\\"></md-option></md-select><div \\nng-if=\\\"userForm.gender.$dirty\\\" ng-messages=\\\"userForm.gender.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" \\nclass=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.EMAIL_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_INVAILABLE\\\">\\n</div></div></md-input-container><div layout=\\\"row\\\"><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-account-key\\\"></md-icon><input name=\\\"password\\\" ng-model=\\\"vm.form.password\\\" type=\\\"password\\\" \\nminlength=\\\"4\\\" maxlength=\\\"12\\\" required placeholder=\\\"********\\\"><div ng-if=\\\"userForm.password.$dirty\\\" \\nng-messages=\\\"userForm.password.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"ERROR.PASSWORD_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" translate=\\\"ERROR.PASSWORD_INVALID\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.PASSWORD_MIN\\\"></div><div ng-message=\\\"maxlength\\\" translate=\\\"ERROR.PASSWORD_MAX\\\">\\n</div></div></md-input-container><md-input-container md-no-float flex><input name=\\\"confmPassword\\\" \\nng-model=\\\"vm.passwordConfirmation\\\" type=\\\"password\\\" minlength=\\\"4\\\" maxlength=\\\"12\\\" required compare-to=\\\"vm.form.password\\\" \\nplaceholder=\\\"********\\\"><div ng-if=\\\"userForm.confmPassword.$dirty\\\" ng-messages=\\\"userForm.confmPassword.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" translate=\\\"ERROR.PASSWORD_CONFIRM\\\"></div><div ng-message=\\\"compareTo\\\" \\ntranslate=\\\"ERROR.PASSWORD_CONFIRM_INVALID\\\"></div></div></md-input-container></div><div layout=\\\"row\\\"><md-button \\ntype=\\\"submit\\\" flex ng-disabled=\\\"vm.form.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\" translate=\\\"Sign up\\\"></span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div><h2>By signing up, you agree to our Terms & Privacy Policy.</h2>\\n</md-card-content></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content class=\\\"md-padding text-center\\\">\\nHave an account? <a ui-sref=\\\"app.auth.login\\\">Log in</a></md-card-content></md-card>\");\n$templateCache.put(\"app/public/views/login.html\",\"<form name=\\\"rForm\\\" ng-submit=\\\"vm.onLogin(rForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex><md-card-content \\nlayout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img class=\\\"photogram-icon\\\" \\nsrc=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\"></md-icon><span flex></span>\\n</div><h2 class=\\\"md-title\\\">Login</h2><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-clipboard-account\\\"></md-icon><input name=\\\"username\\\" type=\\\"text\\\" ng-model=\\\"vm.form.username\\\" \\nplaceholder=\\\"Login\\\" required><div ng-if=\\\"userForm.username.$dirty\\\" ng-messages=\\\"userForm.username.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\" class=\\\"my-message\\\" translate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" \\nclass=\\\"my-message\\\" translate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-account-key\\\"></md-icon><input name=\\\"password\\\" type=\\\"password\\\" ng-model=\\\"vm.form.password\\\" \\nng-minlength=\\\"3\\\" ng-maxlength=\\\"12\\\" placeholder=\\\"Password\\\" required><div ng-if=\\\"userForm.password.$dirty\\\" \\nng-messages=\\\"userForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container></md-card-content><div layout=\\\"row\\\" \\nclass=\\\"md-actions layout-row\\\"><md-button ui-sref=\\\"app.auth.reset\\\">Forgot</md-button><span flex></span><md-button \\ntype=\\\"submit\\\" ng-disabled=\\\"rForm.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\">LOG IN</span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content \\nclass=\\\"md-padding text-center\\\">Don\\'t have an account? <a ui-sref=\\\"app.auth.register\\\">Sign up</a></md-card-content>\\n</md-card>\");\n$templateCache.put(\"app/public/views/main.html\",\"<header ui-view=\\\"toolbar\\\"></header><md-content class=\\\"main-content\\\" layout=\\\"column\\\" flex><md-sidenav \\nclass=\\\"md-sidenav-left md-whiteframe-z2\\\" md-component-id=\\\"leftMenu\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-lg\\')\\\" \\nui-view=\\\"sidenav\\\"></md-sidenav><div class=\\\"main\\\" layout=\\\"column\\\" flex><section flex=\\\"none\\\"><div ui-view></div>\\n</section></div></md-content>\");\n$templateCache.put(\"app/public/views/profile.html\",\"<ion-content><div class=\\\"container\\\"><div layout=\\\"row\\\"><div flex=\\\"30\\\"><img class=\\\"img-circle\\\" \\nng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ user.photo._url }}\\\"></div><div layout=\\\"column\\\" flex><div \\nlayout=\\\"row\\\"><h1>{{user.username}}</h1><span flex></span><md-button ui-sref=\\\"app.editProfile.account\\\" \\nclass=\\\"md-raised\\\" ng-if=\\\"currentUser\\\" aria-label=\\\"{ \\'EDIT\\'|translate}\\\">{{\\'Edit Profile\\' | translate }}</md-button>\\n<md-button ng-click=\\\"openMenu($event)\\\" ng-if=\\\"currentUser\\\" class=\\\"md-icon-button\\\" aria-label=\\\"{ \\'EDIT\\'|translate}\\\">\\n<md-icon md-font-icon=\\\"ion-android-more-vertical\\\"></md-icon></md-button></div><h2><b>{{user.name}}</b> {{user.status}}\\n</h2><div layout=\\\"row\\\"><div flex>{{user.galleriesTotal}} photos</div><div flex>{{user.followersTotal}} follower</div>\\n<div flex>{{user.followingsTotal}} following</div></div></div></div><div class=\\\"center padding\\\" \\nng-if=\\\"showErrorView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>\\n{{ \\\"errorText\\\" | translate }}</p><button class=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">\\n{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div class=\\\"center padding\\\" ng-if=\\\"showEmptyView()\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>{{ \\\"placesNotFoundText\\\" | translate }}</p></div>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><md-card \\nclass=\\\"item-animate1\\\" ng-repeat=\\\"item in data\\\"><md-card-header><md-card-avatar><img ng-src=\\\"{{item.user.photo._url}}\\\" \\nstyle=\\\"border-radius: 50%\\\"></md-card-avatar><md-card-header-text><span class=\\\"md-title\\\" layout=\\\"row\\\"><span>\\n{{item.user.name}}</span> <span flex></span> <span>{{item.createdAt | amTimeAgo}}</span> </span><span \\nclass=\\\"md-subhead\\\">{{item.user.status}}</span></md-card-header-text></md-card-header><img ng-src=\\\"{{item.image._url}}\\\" \\nclass=\\\"md-card-image\\\" alt=\\\"Washed Out\\\"><md-card-content><p><b>{{item.user.username}}</b> {{item.title}}</p><p \\nng-repeat=\\\"comment in item.comments\\\"><b>{{comment.user.username}}</b> {{comment.text}}</p></md-card-content></md-card>\\n<ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll></div></ion-content>\");\n$templateCache.put(\"app/public/views/register.html\",\"<form name=\\\"userForm\\\" ng-submit=\\\"vm.onSubmit(userForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex>\\n<md-card-content layout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img \\nclass=\\\"photogram-icon\\\" src=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\">\\n</md-icon><span flex></span></div><h2>Sign up to see photos and videos from your friends.</h2><facebook-login \\nloading=\\\"vm.loading\\\"></facebook-login><div class=\\\"line\\\" layout=\\\"row\\\"><div class=\\\"l\\\" flex></div><span>OR</span><div \\nclass=\\\"l\\\" flex></div></div><md-input-container md-no-float flex><md-icon md-font-icon=\\\"icon-email\\\"></md-icon><input \\nrequired type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.form.email\\\" email-validator ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[_a-z0-9-+]+(\\\\.[_a-z0-9-+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)*(\\\\.[a-z]{2,4})$/\\\" \\nplaceholder=\\\"someone@example.com\\\"><div ng-if=\\\"userForm.email.$dirty\\\"><div ng-messages=\\\"userForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"emailInUse\\\"></div></div><div ng-messages=\\\"userForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.form.name\\\" \\nplaceholder=\\\"Full Name\\\" ng-minlength=\\\"3\\\" required><div ng-if=\\\"userForm.name.$dirty\\\" ng-messages=\\\"userForm.name.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" translate=\\\"ERROR.NAME_REQUIRED\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.NAME_MIN\\\"></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-clipboard-account\\\"></md-icon><input name=\\\"username\\\" type=\\\"text\\\" \\nng-model=\\\"vm.form.username\\\" username-validator ng-minlength=\\\"3\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/(?=.*[A-Za-z])[A-Za-z\\\\d]{3,10}/\\\" placeholder=\\\"Username\\\" required><div ng-if=\\\"userForm.username.$dirty\\\" \\nng-messages=\\\"userForm.username.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-gender-male-female\\\"></md-icon><md-select ng-model=\\\"vm.form.gender\\\" name=\\\"gender\\\" required \\nplaceholder=\\\"{{\\'Gender\\' | translate}}\\\"><md-option value=\\\"man\\\" translate=\\\"Man\\\"></md-option><md-option value=\\\"woman\\\" \\ntranslate=\\\"Woman\\\"></md-option><md-option value=\\\"other\\\" translate=\\\"Other\\\"></md-option></md-select><div \\nng-if=\\\"userForm.gender.$dirty\\\" ng-messages=\\\"userForm.gender.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" \\nclass=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.EMAIL_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_INVAILABLE\\\">\\n</div></div></md-input-container><div layout=\\\"row\\\"><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-account-key\\\"></md-icon><input name=\\\"password\\\" ng-model=\\\"vm.form.password\\\" type=\\\"password\\\" \\nminlength=\\\"4\\\" maxlength=\\\"12\\\" required placeholder=\\\"********\\\"><div ng-if=\\\"userForm.password.$dirty\\\" \\nng-messages=\\\"userForm.password.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"ERROR.PASSWORD_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" translate=\\\"ERROR.PASSWORD_INVALID\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.PASSWORD_MIN\\\"></div><div ng-message=\\\"maxlength\\\" translate=\\\"ERROR.PASSWORD_MAX\\\">\\n</div></div></md-input-container><md-input-container md-no-float flex><input name=\\\"confmPassword\\\" \\nng-model=\\\"vm.passwordConfirmation\\\" type=\\\"password\\\" minlength=\\\"4\\\" maxlength=\\\"12\\\" required compare-to=\\\"vm.form.password\\\" \\nplaceholder=\\\"********\\\"><div ng-if=\\\"userForm.confmPassword.$dirty\\\" ng-messages=\\\"userForm.confmPassword.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" translate=\\\"ERROR.PASSWORD_CONFIRM\\\"></div><div ng-message=\\\"compareTo\\\" \\ntranslate=\\\"ERROR.PASSWORD_CONFIRM_INVALID\\\"></div></div></md-input-container></div><div layout=\\\"row\\\"><md-button \\ntype=\\\"submit\\\" flex ng-disabled=\\\"vm.form.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\" translate=\\\"Sign up\\\"></span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div><h2>By signing up, you agree to our Terms & Privacy Policy.</h2>\\n</md-card-content></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content class=\\\"md-padding text-center\\\">\\nHave an account? <a ui-sref=\\\"app.auth.login\\\">Log in</a></md-card-content></md-card>\");\n$templateCache.put(\"app/public/views/reset.html\",\"<form name=\\\"rForm\\\" ng-submit=\\\"vm.onLogin(rForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex><md-card-content \\nlayout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img class=\\\"photogram-icon\\\" \\nsrc=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\"></md-icon><span flex></span>\\n</div><h2 class=\\\"md-title\\\">Reset password</h2><md-input-container md-no-float flex><md-icon md-font-icon=\\\"icon-email\\\">\\n</md-icon><input required type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"form.email\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[_a-z0-9-+]+(\\\\.[_a-z0-9-+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)*(\\\\.[a-z]{2,4})$/\\\" \\nplaceholder=\\\"someone@example.com\\\"><div ng-if=\\\"userForm.email.$dirty\\\"><div ng-messages=\\\"userForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"emailInUse\\\"></div></div><div ng-messages=\\\"userForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div></div></div></md-input-container></md-card-content><div \\nlayout=\\\"row\\\" class=\\\"md-actions layout-row\\\"><md-button ui-sref=\\\"app.auth.login\\\">Login</md-button><span flex></span>\\n<md-button type=\\\"submit\\\" ng-disabled=\\\"rForm.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\">Resent</span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content \\nclass=\\\"md-padding text-center\\\">Don\\'t have an account? <a ui-sref=\\\"app.auth.register\\\">Sign up</a></md-card-content>\\n</md-card>\");\n$templateCache.put(\"app/public/views/search.html\",\"<ion-content><div style=\\\"max-width: 600px; display: block; margin:0 auto\\\"><div class=\\\"center padding\\\" \\nng-if=\\\"showErrorView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>\\n{{ \\\"errorText\\\" | translate }}</p><button class=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">\\n{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div class=\\\"center padding\\\" ng-if=\\\"showEmptyView()\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>{{ \\\"placesNotFoundText\\\" | translate }}</p></div>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><md-card \\nng-repeat=\\\"item in data\\\"><md-card-header><md-card-avatar><img ng-src=\\\"{{item.user.photo._url}}\\\" \\nstyle=\\\"border-radius: 50%\\\"></md-card-avatar><md-card-header-text><span class=\\\"md-title\\\" layout=\\\"row\\\"><span>\\n{{item.user.name}}</span> <span flex></span> <span>{{item.createdAt | amTimeAgo}}</span> </span><span \\nclass=\\\"md-subhead\\\">{{item.user.status}}</span></md-card-header-text></md-card-header><img ng-src=\\\"{{item.image._url}}\\\" \\nclass=\\\"md-card-image\\\" alt=\\\"Washed Out\\\"><md-card-content><p><b>{{item.user.username}}</b> {{item.title}}</p><p \\nng-repeat=\\\"comment in item.comments\\\"><b>{{comment.user.username}}</b> {{comment.text}}</p></md-card-content></md-card>\\n<ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll></div></ion-content><md-button class=\\\"md-fab md-accent fadeIn\\\" upload-image \\naria-label=\\\"{ \\'PLUS\\'|translate}\\\"><md-icon md-font-icon=\\\"micon-plus\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/public/views/sidenav.html\",\"<md-toolbar class=\\\"md-tall md-hue-2\\\"><span flex></span><div layout=\\\"column\\\" class=\\\"md-toolbar-tools-bottom inset\\\"><h5>\\nHi, {{currentUser.attributes.name}}</h5></div></md-toolbar><md-content><md-list-item md-no-ink \\nng-repeat=\\\"item in menus\\\" ui-sref=\\\"{{item.link}}\\\" aria-label=\\\"{{item.title}}\\\" ng-click=\\\"toggle()\\\"><div class=\\\"inset\\\">\\n<md-icon md-font-icon=\\\"{{item.icon}}\\\" layout=\\\"column\\\" layout-align=\\\"start center\\\"></md-icon></div><div class=\\\"inset\\\" \\nng-bind=\\\"item.title\\\"></div></md-list-item><md-divider></md-divider><md-list-item ng-click=\\\"toggle()\\\" \\nui-sref=\\\"app.logout\\\"><div class=\\\"inset\\\"><md-icon layout=\\\"column\\\" md-font-icon=\\\"icon-exit-to-app\\\" \\nlayout-align=\\\"start center\\\"></md-icon></div><div class=\\\"inset\\\">Log Out</div></md-list-item></md-content>\");\n$templateCache.put(\"app/public/views/toolbar.html\",\"<md-toolbar md-whiteframe=\\\"4\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"toggle()\\\" hide-gt-lg aria-label=\\\"Menu\\\" ng-if=\\\"isAdmin()\\\"><md-icon md-font-icon=\\\"icon-menu\\\"></md-icon>\\n</md-button><md-button class=\\\"md-clear\\\" ng-click=\\\"homeLink()\\\"><img class=\\\"icon\\\" src=\\\"assets/images/icon.png\\\" \\nalt=\\\"Photogram Icon\\\"> <i class=\\\"photogram-logo\\\"></i></md-button><span flex></span><div ng-if=\\\"currentUser\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button class=\\\"md-icon-button\\\" aria-label=\\\"{ \\'Search\\'|translate}\\\" \\nui-sref=\\\"app.search\\\"><md-icon md-font-icon=\\\"ion-ios-world-outline\\\"></md-icon></md-button><md-button \\nclass=\\\"md-icon-button\\\" aria-label=\\\"{ \\'Login\\'|translate}\\\" ng-click=\\\"profile()\\\"><md-icon \\nmd-font-icon=\\\"ion-ios-person-outline\\\"></md-icon></md-button><md-button class=\\\"md-icon-button\\\" ng-if=\\\"currentUser\\\" \\naria-label=\\\"{ \\'Activity\\'|translate}\\\" ui-sref=\\\"app.activity\\\"><md-icon md-font-icon=\\\"ion-ios-heart-outline\\\"></md-icon>\\n</md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"{ \\'PAYPAL\\'|translate}\\\" ui-sref=\\\"app.docs\\\"><md-icon \\nmd-font-icon=\\\"ion-ios-cloud-download-outline\\\"></md-icon></md-button></div></div></md-toolbar>\");\n$templateCache.put(\"app/admin/views/modal/admin.activity.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Gallery Dialog\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate><md-toolbar>\\n<div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New entry</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::gallery.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Title *</label><md-icon \\nmd-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" required name=\\\"title\\\" ng-model=\\\"gallery.title\\\"><div \\nng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Address</label><md-icon \\nmd-font-icon=\\\"icon-map\\\"></md-icon><input type=\\\"text\\\" name=\\\"address\\\" ng-model=\\\"gallery.address\\\" \\nng-model-options=\\\"{ debounce: 2000 }\\\" ng-change=\\\"onAddressChanged()\\\"></md-input-container><md-input-container><ng-map \\nclass=\\\"map\\\" scrollwheel=\\\"false\\\" map-type-control=\\\"false\\\" street-view-control=\\\"false\\\"><marker draggable=\\\"true\\\" \\non-dragend=\\\"onMarkerDragEnd()\\\"></marker></ng-map></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container flex><label>Latitude</label><input type=\\\"number\\\" name=\\\"latitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.latitude\\\"></md-input-container>\\n<md-input-container flex><label>Longitude</label><input type=\\\"number\\\" name=\\\"longitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.longitude\\\">\\n</md-input-container></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>\\nUpload image *</label><input type=\\\"text\\\" ng-model=\\\"imageOneFilename\\\" disabled=\\\"disabled\\\"></md-input-container><md-icon \\nmd-font-icon=\\\"icon-camera\\\" ng-class=\\\"{ \\'photo-active\\': gallery.image.url() }\\\" \\nngf-select=\\\"uploadImageOne($file, $invalidFile)\\\" ngf-max-size=\\\"2MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\">\\n<md-tooltip>Add image</md-tooltip></md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" \\nng-if=\\\"isImageOneUploading\\\"></md-progress-circular></div></md-content></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised md-primary ng-click=\\\"cancel()\\\">Cancel</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onSaveGallery(form.$valid)\\\" \\nng-disabled=\\\"isSavingGallery\\\" ng-show=\\\"isCreating\\\">{{ !isSavingGallery ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onUpdateGallery(form.$valid)\\\" ng-disabled=\\\"isSavingGallery\\\" \\nng-show=\\\"!isCreating\\\">{{ !isSavingGallery ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.category.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Dialog Category\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate>\\n<md-toolbar><div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New category</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::objCategory.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container><label>Title *</label><input required name=\\\"title\\\" ng-model=\\\"objCategory.title\\\">\\n<div ng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container><label>Order *</label><input type=\\\"number\\\" name=\\\"order\\\" min=\\\"0\\\" \\nng-model=\\\"objCategory.order\\\" required><div ng-messages=\\\"form.order.$error\\\" ng-show=\\\"form.$submitted\\\"><div \\nng-message=\\\"required\\\">Order required</div></div></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container md-no-float><label>Upload Image</label><input type=\\\"text\\\" ng-model=\\\"imageFilename\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.image.url() }\\\" ngf-select=\\\"uploadImage($file, $invalidFile)\\\" \\nngf-max-size=\\\"4MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>Add an Image</md-tooltip></ng-md-icon>\\n<md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploading\\\"></md-progress-circular></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>Upload Icon</label><input type=\\\"text\\\" \\nng-model=\\\"iconFilename\\\" disabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.icon.url() }\\\" ngf-dimensions=\\\"$width === 64 && $height === 64\\\" \\nngf-select=\\\"uploadIcon($file, $invalidFile)\\\" ngf-max-size=\\\"1MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>\\nAdd an Icon</md-tooltip></ng-md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploadingIcon\\\">\\n</md-progress-circular></div><div class=\\\"hint\\\">* The icon image\\'s dimensions should be 64x64 px</div></md-content>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised \\nmd-primary ng-click=\\\"cancel()\\\">Cancel</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onSaveCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"!isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onUpdateCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.gallery.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Gallery Dialog\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate><md-toolbar>\\n<div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New entry</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::gallery.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Title *</label><md-icon \\nmd-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" required name=\\\"title\\\" ng-model=\\\"gallery.title\\\"><div \\nng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Address</label><md-icon \\nmd-font-icon=\\\"icon-map\\\"></md-icon><input type=\\\"text\\\" name=\\\"address\\\" ng-model=\\\"gallery.address\\\" \\nng-model-options=\\\"{ debounce: 2000 }\\\" ng-change=\\\"onAddressChanged()\\\"></md-input-container><md-input-container><ng-map \\nclass=\\\"map\\\" scrollwheel=\\\"false\\\" map-type-control=\\\"false\\\" street-view-control=\\\"false\\\"><marker draggable=\\\"true\\\" \\non-dragend=\\\"onMarkerDragEnd()\\\"></marker></ng-map></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container flex><label>Latitude</label><input type=\\\"number\\\" name=\\\"latitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.latitude\\\"></md-input-container>\\n<md-input-container flex><label>Longitude</label><input type=\\\"number\\\" name=\\\"longitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.longitude\\\">\\n</md-input-container></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>\\nUpload image *</label><input type=\\\"text\\\" ng-model=\\\"imageOneFilename\\\" disabled=\\\"disabled\\\"></md-input-container><md-icon \\nmd-font-icon=\\\"icon-camera\\\" ng-class=\\\"{ \\'photo-active\\': gallery.image.url() }\\\" \\nngf-select=\\\"uploadImageOne($file, $invalidFile)\\\" ngf-max-size=\\\"2MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\">\\n<md-tooltip>Add image</md-tooltip></md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" \\nng-if=\\\"isImageOneUploading\\\"></md-progress-circular></div></md-content></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised md-primary ng-click=\\\"cancel()\\\">Cancel</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onSaveGallery(form.$valid)\\\" \\nng-disabled=\\\"isSavingGallery\\\" ng-show=\\\"isCreating\\\">{{ !isSavingGallery ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onUpdateGallery(form.$valid)\\\" ng-disabled=\\\"isSavingGallery\\\" \\nng-show=\\\"!isCreating\\\">{{ !isSavingGallery ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.setting.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Dialog Category\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate>\\n<md-toolbar><div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New category</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::objCategory.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container><label>Title *</label><input required name=\\\"title\\\" ng-model=\\\"objCategory.title\\\">\\n<div ng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container><label>Order *</label><input type=\\\"number\\\" name=\\\"order\\\" min=\\\"0\\\" \\nng-model=\\\"objCategory.order\\\" required><div ng-messages=\\\"form.order.$error\\\" ng-show=\\\"form.$submitted\\\"><div \\nng-message=\\\"required\\\">Order required</div></div></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container md-no-float><label>Upload Image</label><input type=\\\"text\\\" ng-model=\\\"imageFilename\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.image.url() }\\\" ngf-select=\\\"uploadImage($file, $invalidFile)\\\" \\nngf-max-size=\\\"4MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>Add an Image</md-tooltip></ng-md-icon>\\n<md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploading\\\"></md-progress-circular></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>Upload Icon</label><input type=\\\"text\\\" \\nng-model=\\\"iconFilename\\\" disabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.icon.url() }\\\" ngf-dimensions=\\\"$width === 64 && $height === 64\\\" \\nngf-select=\\\"uploadIcon($file, $invalidFile)\\\" ngf-max-size=\\\"1MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>\\nAdd an Icon</md-tooltip></ng-md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploadingIcon\\\">\\n</md-progress-circular></div><div class=\\\"hint\\\">* The icon image\\'s dimensions should be 64x64 px</div></md-content>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised \\nmd-primary ng-click=\\\"cancel()\\\">Cancel</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onSaveCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"!isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onUpdateCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.user.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"User dialog\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate><md-toolbar>\\n<div class=\\\"md-toolbar-tools\\\"><h2>{{ objUser.id ? \\'Edit\\' : \\'New\\' }} User</h2><span flex></span><ng-md-icon \\naria-label=\\\"Close dialog\\\" icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\"></ng-md-icon></div></md-toolbar>\\n<md-dialog-content layout-padding><md-content layout=\\\"column\\\"><md-input-container><label>Name *</label><input \\ntype=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"objUser.name\\\" required><div ng-messages=\\\"form.name.$error\\\" ng-show=\\\"form.$submitted\\\">\\n<div ng-message=\\\"required\\\">Name required</div></div></md-input-container><md-input-container><label>Username *</label>\\n<input type=\\\"text\\\" name=\\\"username\\\" ng-model=\\\"objUser.username\\\" required><div ng-messages=\\\"form.username.$error\\\" \\nng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Username required</div></div></md-input-container>\\n<md-input-container><label>Email *</label><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"objUser.email\\\" required><div \\nng-messages=\\\"form.email.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Email required</div><div \\nng-message=\\\"email\\\">Invalid email</div></div></md-input-container><md-input-container><label>Password</label><input \\ntype=\\\"password\\\" name=\\\"Password\\\" ng-model=\\\"objUser.password\\\"></md-input-container><md-input-container class=\\\"md-block\\\" \\nng-if=\\\"!objUser.id\\\"><label>Role *</label><md-select name=\\\"role\\\" required ng-model=\\\"objUser.roleName\\\"><md-option \\nvalue=\\\"Admin\\\">Admin</md-option><md-option value=\\\"User\\\">User</md-option></md-select><div ng-messages=\\\"form.role.$error\\\" \\nng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Role required</div></div></md-input-container><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-input-container md-no-float><label>Upload photo</label><input type=\\\"text\\\" \\nng-model=\\\"imageFilename\\\" disabled=\\\"disabled\\\"></md-input-container><md-icon class=\\\"photo-camera\\\" \\nmd-font-icon=\\\"icon-camera\\\" ng-class=\\\"{ \\'photo-active\\': objUser.photo.url() }\\\" ngf-select=\\\"uploadImage($file)\\\" \\nngf-max-size=\\\"2MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>Add an image</md-tooltip></md-icon>\\n<md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploading\\\"></md-progress-circular></div>\\n</md-content></md-dialog-content><md-dialog-actions layout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" \\nmd-primary md-raised ng-click=\\\"cancel()\\\">Cancel</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-disabled=\\\"isSavingUser\\\" ng-click=\\\"onEventSaveUser(form.$valid)\\\" ng-show=\\\"!objUser.id\\\">\\n{{ !isSavingUser ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-disabled=\\\"isSavingUser\\\" ng-click=\\\"onEventUpdateUser(form.$valid)\\\" ng-show=\\\"objUser.id\\\">\\n{{ !isSavingUser ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form></md-dialog>\");}]);\n}());\n"],"sourceRoot":"/source/"}